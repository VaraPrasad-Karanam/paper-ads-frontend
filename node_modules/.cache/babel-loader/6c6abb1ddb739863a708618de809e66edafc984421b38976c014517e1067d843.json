{"ast":null,"code":"var _jsxFileName = \"D:\\\\paper-ads-website\\\\frontend\\\\src\\\\components\\\\UploadForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useCallback, useEffect } from 'react';\nimport { uploadAd, uploadMultipleAds, createCategory } from '../services/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst UploadForm = ({\n  categories,\n  onClose,\n  onSuccess\n}) => {\n  _s();\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState('');\n  const [newCategoryName, setNewCategoryName] = useState('');\n  const [isCreatingCategory, setIsCreatingCategory] = useState(false);\n  const [uploading, setUploading] = useState(false);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const [error, setError] = useState('');\n  const [showImageEditor, setShowImageEditor] = useState(false);\n  const [currentEditingImage, setCurrentEditingImage] = useState(null);\n  const [currentEditingIndex, setCurrentEditingIndex] = useState(null);\n  const [previewImage, setPreviewImage] = useState(null);\n  const [selectedFilter, setSelectedFilter] = useState('original');\n  const [rotation, setRotation] = useState(0);\n  const [scale, setScale] = useState(1);\n  const fileInputRef = useRef();\n  const cameraInputRef = useRef();\n  const canvasRef = useRef();\n  const previewCanvasRef = useRef();\n\n  // Image enhancement functions\n  const applyDocumentScanFilter = (canvas, ctx, imageData, filterType) => {\n    const data = imageData.data;\n    const width = imageData.width;\n    const height = imageData.height;\n    switch (filterType) {\n      case 'original':\n        // No filter applied - keep original image\n        break;\n      case 'auto':\n        // Auto contrast + brightness + sharpen\n        applyAutoContrast(data);\n        applyBrightnessContrast(data, 10, 1.2);\n        applySharpen(data, width, height);\n        break;\n      case 'blackwhite':\n        // High contrast black and white\n        applyBlackWhite(data);\n        applyAutoContrast(data);\n        break;\n      case 'grayscale':\n        // Grayscale with enhanced contrast\n        applyGrayscale(data);\n        applyBrightnessContrast(data, 15, 1.3);\n        break;\n      case 'whitening':\n        // Document whitening\n        applyWhitening(data);\n        applyBrightnessContrast(data, 20, 1.1);\n        break;\n      case 'sharpen':\n        // Enhanced sharpening\n        applySharpen(data, width, height);\n        applyBrightnessContrast(data, 5, 1.1);\n        break;\n      case 'vintage':\n        // Vintage document look\n        applyVintage(data);\n        break;\n      default:\n        break;\n    }\n    ctx.putImageData(imageData, 0, 0);\n  };\n  const applyAutoContrast = data => {\n    let min = 255,\n      max = 0;\n    for (let i = 0; i < data.length; i += 4) {\n      const gray = data[i] * 0.299 + data[i + 1] * 0.587 + data[i + 2] * 0.114;\n      min = Math.min(min, gray);\n      max = Math.max(max, gray);\n    }\n    const range = max - min;\n    if (range === 0) return;\n    for (let i = 0; i < data.length; i += 4) {\n      data[i] = Math.min(255, Math.max(0, (data[i] - min) * 255 / range));\n      data[i + 1] = Math.min(255, Math.max(0, (data[i + 1] - min) * 255 / range));\n      data[i + 2] = Math.min(255, Math.max(0, (data[i + 2] - min) * 255 / range));\n    }\n  };\n  const applyBrightnessContrast = (data, brightness, contrast) => {\n    const factor = 259 * (contrast * 100 + 255) / (255 * (259 - contrast * 100));\n    for (let i = 0; i < data.length; i += 4) {\n      data[i] = Math.min(255, Math.max(0, factor * (data[i] - 128) + 128 + brightness));\n      data[i + 1] = Math.min(255, Math.max(0, factor * (data[i + 1] - 128) + 128 + brightness));\n      data[i + 2] = Math.min(255, Math.max(0, factor * (data[i + 2] - 128) + 128 + brightness));\n    }\n  };\n  const applyBlackWhite = data => {\n    for (let i = 0; i < data.length; i += 4) {\n      const gray = data[i] * 0.299 + data[i + 1] * 0.587 + data[i + 2] * 0.114;\n      const bw = gray > 128 ? 255 : 0;\n      data[i] = data[i + 1] = data[i + 2] = bw;\n    }\n  };\n  const applyGrayscale = data => {\n    for (let i = 0; i < data.length; i += 4) {\n      const gray = data[i] * 0.299 + data[i + 1] * 0.587 + data[i + 2] * 0.114;\n      data[i] = data[i + 1] = data[i + 2] = gray;\n    }\n  };\n  const applyWhitening = data => {\n    for (let i = 0; i < data.length; i += 4) {\n      data[i] = Math.min(255, data[i] + 30);\n      data[i + 1] = Math.min(255, data[i + 1] + 30);\n      data[i + 2] = Math.min(255, data[i + 2] + 30);\n    }\n  };\n  const applySharpen = (data, width, height) => {\n    const sharpenKernel = [0, -1, 0, -1, 5, -1, 0, -1, 0];\n    const output = new Uint8ClampedArray(data);\n    for (let y = 1; y < height - 1; y++) {\n      for (let x = 1; x < width - 1; x++) {\n        for (let c = 0; c < 3; c++) {\n          let sum = 0;\n          for (let ky = -1; ky <= 1; ky++) {\n            for (let kx = -1; kx <= 1; kx++) {\n              const idx = ((y + ky) * width + (x + kx)) * 4 + c;\n              sum += data[idx] * sharpenKernel[(ky + 1) * 3 + (kx + 1)];\n            }\n          }\n          output[(y * width + x) * 4 + c] = Math.min(255, Math.max(0, sum));\n        }\n      }\n    }\n    for (let i = 0; i < data.length; i++) {\n      data[i] = output[i];\n    }\n  };\n  const applyVintage = data => {\n    for (let i = 0; i < data.length; i += 4) {\n      const r = data[i];\n      const g = data[i + 1];\n      const b = data[i + 2];\n      data[i] = Math.min(255, r * 0.9 + g * 0.5 + b * 0.1);\n      data[i + 1] = Math.min(255, r * 0.3 + g * 0.8 + b * 0.1);\n      data[i + 2] = Math.min(255, r * 0.2 + g * 0.3 + b * 0.5);\n    }\n  };\n  const updatePreview = useCallback(() => {\n    if (!currentEditingImage) return;\n    const canvas = previewCanvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const img = new Image();\n    img.onload = () => {\n      const maxSize = 400;\n      let {\n        width,\n        height\n      } = img;\n\n      // Apply scaling\n      width *= scale;\n      height *= scale;\n\n      // Calculate display size maintaining aspect ratio\n      const ratio = Math.min(maxSize / width, maxSize / height);\n      const displayWidth = width * ratio;\n      const displayHeight = height * ratio;\n      canvas.width = displayWidth;\n      canvas.height = displayHeight;\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      ctx.save();\n\n      // Apply rotation\n      ctx.translate(canvas.width / 2, canvas.height / 2);\n      ctx.rotate(rotation * Math.PI / 180);\n      ctx.translate(-displayWidth / 2, -displayHeight / 2);\n\n      // Draw the image\n      ctx.drawImage(img, 0, 0, displayWidth, displayHeight);\n\n      // Apply filter\n      if (selectedFilter !== 'original') {\n        const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n        applyDocumentScanFilter(canvas, ctx, imageData, selectedFilter);\n      }\n      ctx.restore();\n\n      // Convert to data URL for display\n      setPreviewImage(canvas.toDataURL('image/jpeg', 0.9));\n    };\n    img.src = URL.createObjectURL(currentEditingImage);\n  }, [currentEditingImage, selectedFilter, rotation, scale]);\n  useEffect(() => {\n    updatePreview();\n  }, [updatePreview]);\n  const openImageEditor = (file, index) => {\n    setCurrentEditingImage(file);\n    setCurrentEditingIndex(index);\n    setSelectedFilter('original');\n    setRotation(0);\n    setScale(1);\n    setShowImageEditor(true);\n  };\n  const applyChangesAndSave = () => {\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext('2d');\n    const img = new Image();\n    img.onload = () => {\n      // Set canvas size based on scale\n      const scaledWidth = img.width * scale;\n      const scaledHeight = img.height * scale;\n      canvas.width = scaledWidth;\n      canvas.height = scaledHeight;\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n      ctx.save();\n\n      // Apply rotation\n      ctx.translate(canvas.width / 2, canvas.height / 2);\n      ctx.rotate(rotation * Math.PI / 180);\n      ctx.translate(-scaledWidth / 2, -scaledHeight / 2);\n\n      // Draw the image\n      ctx.drawImage(img, 0, 0, scaledWidth, scaledHeight);\n      ctx.restore();\n\n      // Apply filter\n      if (selectedFilter !== 'original') {\n        const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n        applyDocumentScanFilter(canvas, ctx, imageData, selectedFilter);\n      }\n      canvas.toBlob(blob => {\n        const enhancedFile = new File([blob], currentEditingImage.name, {\n          type: 'image/jpeg',\n          lastModified: Date.now()\n        });\n        const newFiles = [...selectedFiles];\n        newFiles[currentEditingIndex] = enhancedFile;\n        setSelectedFiles(newFiles);\n        setShowImageEditor(false);\n      }, 'image/jpeg', 0.9);\n    };\n    img.src = URL.createObjectURL(currentEditingImage);\n  };\n  const handleFileSelect = useCallback(files => {\n    const validFiles = Array.from(files).filter(file => {\n      const validTypes = ['image/jpeg', 'image/jpg', 'image/png', 'application/pdf'];\n      return validTypes.includes(file.type) && file.size <= 10 * 1024 * 1024;\n    });\n    if (validFiles.length !== files.length) {\n      setError('Some files were invalid. Only JPEG, PNG, and PDF files under 10MB are allowed.');\n    } else {\n      setError('');\n    }\n    setSelectedFiles(prev => [...prev, ...validFiles]);\n  }, []);\n  const handleDrop = useCallback(e => {\n    e.preventDefault();\n    e.currentTarget.classList.remove('dragover');\n    handleFileSelect(e.dataTransfer.files);\n  }, [handleFileSelect]);\n  const handleDragOver = useCallback(e => {\n    e.preventDefault();\n  }, []);\n  const handleDragEnter = useCallback(e => {\n    e.preventDefault();\n    e.currentTarget.classList.add('dragover');\n  }, []);\n  const handleDragLeave = useCallback(e => {\n    e.preventDefault();\n    e.currentTarget.classList.remove('dragover');\n  }, []);\n  const removeFile = useCallback(index => {\n    setSelectedFiles(prev => prev.filter((_, i) => i !== index));\n  }, []);\n  const createNewCategory = async () => {\n    if (!newCategoryName.trim()) return null;\n    try {\n      const category = await createCategory({\n        name: newCategoryName.trim()\n      });\n      return category._id;\n    } catch (error) {\n      setError('Failed to create category');\n      return null;\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (selectedFiles.length === 0) {\n      setError('Please select at least one file');\n      return;\n    }\n    let categoryId = selectedCategory;\n    if (isCreatingCategory) {\n      categoryId = await createNewCategory();\n      if (!categoryId) return;\n    }\n    if (!categoryId) {\n      setError('Please select or create a category');\n      return;\n    }\n    setUploading(true);\n    setError('');\n    try {\n      const formData = new FormData();\n      if (selectedFiles.length === 1) {\n        formData.append('image', selectedFiles[0]);\n        formData.append('title', title || selectedFiles[0].name);\n        formData.append('description', description);\n        formData.append('category', categoryId);\n        await uploadAd(formData, progressEvent => {\n          const progress = Math.round(progressEvent.loaded * 100 / progressEvent.total);\n          setUploadProgress(progress);\n        });\n      } else {\n        selectedFiles.forEach(file => {\n          formData.append('images', file);\n        });\n        const titles = selectedFiles.map(file => title || file.name);\n        const descriptions = selectedFiles.map(() => description);\n        formData.append('titles', JSON.stringify(titles));\n        formData.append('descriptions', JSON.stringify(descriptions));\n        formData.append('category', categoryId);\n        await uploadMultipleAds(formData, progressEvent => {\n          const progress = Math.round(progressEvent.loaded * 100 / progressEvent.total);\n          setUploadProgress(progress);\n        });\n      }\n      onSuccess();\n    } catch (error) {\n      setError('Upload failed. Please try again.');\n      console.error('Upload error:', error);\n    } finally {\n      setUploading(false);\n      setUploadProgress(0);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      onClick: onClose,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Upload New Ad\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-btn\",\n            onClick: onClose,\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"upload-form\",\n          onSubmit: handleSubmit,\n          children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"error-message\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                gap: '10px',\n                alignItems: 'center'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"form-control\",\n                value: isCreatingCategory ? '' : selectedCategory,\n                onChange: e => {\n                  setSelectedCategory(e.target.value);\n                  setIsCreatingCategory(false);\n                },\n                disabled: isCreatingCategory,\n                style: {\n                  flex: 1\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select Category\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 19\n                }, this), categories.map(cat => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: cat._id,\n                  children: cat.name\n                }, cat._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-secondary\",\n                onClick: () => setIsCreatingCategory(!isCreatingCategory),\n                children: isCreatingCategory ? 'Cancel' : 'New'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 13\n          }, this), isCreatingCategory && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"New Category Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              value: newCategoryName,\n              onChange: e => setNewCategoryName(e.target.value),\n              placeholder: \"Enter category name\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Title \", selectedFiles.length > 1 && '(will be applied to all files)']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              value: title,\n              onChange: e => setTitle(e.target.value),\n              placeholder: \"Enter ad title (optional)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Description \", selectedFiles.length > 1 && '(will be applied to all files)']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              className: \"form-control\",\n              value: description,\n              onChange: e => setDescription(e.target.value),\n              placeholder: \"Enter ad description (optional)\",\n              rows: \"3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Images/Files\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 451,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"upload-options\",\n              style: {\n                display: \"flex\",\n                flexDirection: \"column\",\n                gap: \"12px\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"file-drop-zone\",\n                onDrop: handleDrop,\n                onDragOver: handleDragOver,\n                onDragEnter: handleDragEnter,\n                onDragLeave: handleDragLeave,\n                onClick: () => {\n                  var _fileInputRef$current;\n                  return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n                },\n                style: {\n                  cursor: \"pointer\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Drag and drop files here or click to select\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 462,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    fontSize: '0.8rem',\n                    color: '#7f8c8d'\n                  },\n                  children: \"Supported: JPEG, PNG, PDF (Max 10MB each)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 463,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 453,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn\",\n                style: {\n                  background: \"#f3f4f6\",\n                  color: \"#23244c\",\n                  border: \"1px solid #d1d5db\",\n                  fontWeight: \"600\"\n                },\n                onClick: () => {\n                  var _cameraInputRef$curre;\n                  return (_cameraInputRef$curre = cameraInputRef.current) === null || _cameraInputRef$curre === void 0 ? void 0 : _cameraInputRef$curre.click();\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontSize: \"1.5rem\",\n                    marginRight: \"0.3rem\"\n                  },\n                  children: \"\\uD83D\\uDCF7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 478,\n                  columnNumber: 19\n                }, this), \"Take Photo (use camera)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              ref: cameraInputRef,\n              type: \"file\",\n              accept: \"image/*\",\n              capture: \"environment\",\n              style: {\n                display: 'none'\n              },\n              onChange: e => handleFileSelect(e.target.files)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              ref: fileInputRef,\n              type: \"file\",\n              multiple: true,\n              accept: \".jpg,.jpeg,.png,.pdf\",\n              style: {\n                display: 'none'\n              },\n              onChange: e => handleFileSelect(e.target.files)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 13\n          }, this), selectedFiles.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"file-preview\",\n            children: selectedFiles.map((file, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"file-preview-item\",\n              children: [file.type.startsWith('image/') ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: URL.createObjectURL(file),\n                  alt: file.name,\n                  className: \"file-preview-image\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 507,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"enhance-btn\",\n                  onClick: () => openImageEditor(file, index),\n                  style: {\n                    position: 'absolute',\n                    bottom: '4px',\n                    left: '4px',\n                    background: '#4f46e5',\n                    color: 'white',\n                    border: 'none',\n                    borderRadius: '4px',\n                    padding: '2px 6px',\n                    fontSize: '10px',\n                    cursor: 'pointer'\n                  },\n                  children: \"\\u2728 Enhance\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 512,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"file-preview-image\",\n                style: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  background: '#ecf0f1',\n                  fontSize: '12px',\n                  textAlign: 'center'\n                },\n                children: \"PDF\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 533,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"file-remove-btn\",\n                onClick: () => removeFile(index),\n                children: \"\\xD7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 544,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 502,\n            columnNumber: 15\n          }, this), uploading && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"upload-progress\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"upload-progress-bar\",\n              style: {\n                width: `${uploadProgress}%`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 558,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                textAlign: 'center',\n                marginTop: '10px'\n              },\n              children: [\"Uploading... \", uploadProgress, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 562,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 557,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '10px',\n              marginTop: '20px'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary\",\n              disabled: uploading || selectedFiles.length === 0,\n              style: {\n                flex: 1\n              },\n              children: uploading ? 'Uploading...' : `Upload ${selectedFiles.length} file(s)`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 569,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-secondary\",\n              onClick: onClose,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 577,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 568,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 7\n    }, this), showImageEditor && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      style: {\n        zIndex: 3000\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        style: {\n          maxWidth: '900px',\n          maxHeight: '90vh'\n        },\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"\\uD83D\\uDD27 Enhance Document\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 590,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-btn\",\n            onClick: () => setShowImageEditor(false),\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 591,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 589,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: '1rem',\n            maxHeight: 'calc(90vh - 120px)',\n            overflowY: 'auto'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: '1.5rem',\n              textAlign: 'center'\n            },\n            children: previewImage ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: previewImage,\n              alt: \"Preview\",\n              style: {\n                maxWidth: '100%',\n                maxHeight: '350px',\n                border: '2px solid #e5e7eb',\n                borderRadius: '8px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 598,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                height: '300px',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                background: '#f3f4f6',\n                borderRadius: '8px'\n              },\n              children: \"Loading preview...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 609,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 596,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: '1.5rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              style: {\n                marginBottom: '1rem',\n                color: '#374151'\n              },\n              children: \"Transform:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 617,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'grid',\n                gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n                gap: '1rem'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  style: {\n                    display: 'block',\n                    marginBottom: '0.5rem',\n                    fontSize: '0.875rem',\n                    fontWeight: '500'\n                  },\n                  children: [\"Rotate: \", rotation, \"\\xB0\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 620,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"range\",\n                  min: \"-180\",\n                  max: \"180\",\n                  value: rotation,\n                  onChange: e => setRotation(parseInt(e.target.value)),\n                  style: {\n                    width: '100%'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 623,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    gap: '0.5rem',\n                    marginTop: '0.5rem'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: () => setRotation(rotation - 90),\n                    style: {\n                      flex: 1,\n                      padding: '0.25rem',\n                      fontSize: '0.75rem',\n                      background: '#f3f4f6',\n                      border: '1px solid #d1d5db',\n                      borderRadius: '4px',\n                      cursor: 'pointer'\n                    },\n                    children: \"\\u21B6 -90\\xB0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 632,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: () => setRotation(rotation + 90),\n                    style: {\n                      flex: 1,\n                      padding: '0.25rem',\n                      fontSize: '0.75rem',\n                      background: '#f3f4f6',\n                      border: '1px solid #d1d5db',\n                      borderRadius: '4px',\n                      cursor: 'pointer'\n                    },\n                    children: \"\\u21B7 +90\\xB0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 639,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 631,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 619,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  style: {\n                    display: 'block',\n                    marginBottom: '0.5rem',\n                    fontSize: '0.875rem',\n                    fontWeight: '500'\n                  },\n                  children: [\"Scale: \", Math.round(scale * 100), \"%\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 649,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"range\",\n                  min: \"0.1\",\n                  max: \"3\",\n                  step: \"0.1\",\n                  value: scale,\n                  onChange: e => setScale(parseFloat(e.target.value)),\n                  style: {\n                    width: '100%'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 652,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    gap: '0.5rem',\n                    marginTop: '0.5rem'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: () => setScale(0.5),\n                    style: {\n                      flex: 1,\n                      padding: '0.25rem',\n                      fontSize: '0.75rem',\n                      background: '#f3f4f6',\n                      border: '1px solid #d1d5db',\n                      borderRadius: '4px',\n                      cursor: 'pointer'\n                    },\n                    children: \"50%\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 662,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: () => setScale(1),\n                    style: {\n                      flex: 1,\n                      padding: '0.25rem',\n                      fontSize: '0.75rem',\n                      background: '#f3f4f6',\n                      border: '1px solid #d1d5db',\n                      borderRadius: '4px',\n                      cursor: 'pointer'\n                    },\n                    children: \"100%\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 669,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    onClick: () => setScale(1.5),\n                    style: {\n                      flex: 1,\n                      padding: '0.25rem',\n                      fontSize: '0.75rem',\n                      background: '#f3f4f6',\n                      border: '1px solid #d1d5db',\n                      borderRadius: '4px',\n                      cursor: 'pointer'\n                    },\n                    children: \"150%\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 676,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 661,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 648,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 618,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 616,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginBottom: '1.5rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              style: {\n                marginBottom: '1rem',\n                color: '#374151'\n              },\n              children: \"Choose Enhancement:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 690,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'grid',\n                gridTemplateColumns: 'repeat(auto-fit, minmax(120px, 1fr))',\n                gap: '0.5rem'\n              },\n              children: [{\n                key: 'original',\n                label: '📸 Original',\n                style: {\n                  background: selectedFilter === 'original' ? '#059669' : 'linear-gradient(135deg, #059669, #10b981)',\n                  color: 'white'\n                }\n              }, {\n                key: 'auto',\n                label: '🚀 Auto',\n                style: {\n                  background: selectedFilter === 'auto' ? '#3730a3' : 'linear-gradient(135deg, #4f46e5, #7c3aed)',\n                  color: 'white'\n                }\n              }, {\n                key: 'blackwhite',\n                label: '⚫ B&W',\n                style: {\n                  background: selectedFilter === 'blackwhite' ? '#0f172a' : '#1f2937',\n                  color: 'white'\n                }\n              }, {\n                key: 'grayscale',\n                label: '🌫️ Gray',\n                style: {\n                  background: selectedFilter === 'grayscale' ? '#4b5563' : '#6b7280',\n                  color: 'white'\n                }\n              }, {\n                key: 'whitening',\n                label: '☀️ White',\n                style: {\n                  background: selectedFilter === 'whitening' ? '#e5e7eb' : '#f3f4f6',\n                  color: selectedFilter === 'whitening' ? '#1f2937' : '#374151',\n                  border: '2px solid #d1d5db'\n                }\n              }, {\n                key: 'sharpen',\n                label: '🔍 Sharp',\n                style: {\n                  background: selectedFilter === 'sharpen' ? '#047857' : '#10b981',\n                  color: 'white'\n                }\n              }, {\n                key: 'vintage',\n                label: '📜 Vintage',\n                style: {\n                  background: selectedFilter === 'vintage' ? '#b45309' : '#d97706',\n                  color: 'white'\n                }\n              }].map(filter => /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn\",\n                onClick: () => setSelectedFilter(filter.key),\n                style: {\n                  ...filter.style,\n                  border: selectedFilter === filter.key ? '3px solid #1d4ed8' : filter.style.border || 'none',\n                  padding: '0.5rem 0.25rem',\n                  fontSize: '0.75rem',\n                  fontWeight: '600',\n                  cursor: 'pointer',\n                  borderRadius: '6px',\n                  transition: 'all 0.2s'\n                },\n                children: filter.label\n              }, filter.key, false, {\n                fileName: _jsxFileName,\n                lineNumber: 705,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 691,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 689,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: '1rem',\n              justifyContent: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn\",\n              onClick: applyChangesAndSave,\n              style: {\n                background: '#4f46e5',\n                color: 'white',\n                padding: '0.75rem 2rem',\n                fontSize: '1rem',\n                fontWeight: '600',\n                border: 'none',\n                borderRadius: '8px',\n                cursor: 'pointer'\n              },\n              children: \"\\u2705 Apply Changes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 729,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-secondary\",\n              onClick: () => setShowImageEditor(false),\n              style: {\n                padding: '0.75rem 2rem',\n                fontSize: '1rem',\n                fontWeight: '600'\n              },\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 746,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 728,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 594,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 588,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 587,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      style: {\n        display: 'none'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 764,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: previewCanvasRef,\n      style: {\n        display: 'none'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 765,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(UploadForm, \"NRq0YChBMvoOs+0niSK8F9/Ee5I=\");\n_c = UploadForm;\nexport default UploadForm;\nvar _c;\n$RefreshReg$(_c, \"UploadForm\");","map":{"version":3,"names":["React","useState","useRef","useCallback","useEffect","uploadAd","uploadMultipleAds","createCategory","jsxDEV","_jsxDEV","Fragment","_Fragment","UploadForm","categories","onClose","onSuccess","_s","selectedFiles","setSelectedFiles","title","setTitle","description","setDescription","selectedCategory","setSelectedCategory","newCategoryName","setNewCategoryName","isCreatingCategory","setIsCreatingCategory","uploading","setUploading","uploadProgress","setUploadProgress","error","setError","showImageEditor","setShowImageEditor","currentEditingImage","setCurrentEditingImage","currentEditingIndex","setCurrentEditingIndex","previewImage","setPreviewImage","selectedFilter","setSelectedFilter","rotation","setRotation","scale","setScale","fileInputRef","cameraInputRef","canvasRef","previewCanvasRef","applyDocumentScanFilter","canvas","ctx","imageData","filterType","data","width","height","applyAutoContrast","applyBrightnessContrast","applySharpen","applyBlackWhite","applyGrayscale","applyWhitening","applyVintage","putImageData","min","max","i","length","gray","Math","range","brightness","contrast","factor","bw","sharpenKernel","output","Uint8ClampedArray","y","x","c","sum","ky","kx","idx","r","g","b","updatePreview","current","getContext","img","Image","onload","maxSize","ratio","displayWidth","displayHeight","clearRect","save","translate","rotate","PI","drawImage","getImageData","restore","toDataURL","src","URL","createObjectURL","openImageEditor","file","index","applyChangesAndSave","scaledWidth","scaledHeight","toBlob","blob","enhancedFile","File","name","type","lastModified","Date","now","newFiles","handleFileSelect","files","validFiles","Array","from","filter","validTypes","includes","size","prev","handleDrop","e","preventDefault","currentTarget","classList","remove","dataTransfer","handleDragOver","handleDragEnter","add","handleDragLeave","removeFile","_","createNewCategory","trim","category","_id","handleSubmit","categoryId","formData","FormData","append","progressEvent","progress","round","loaded","total","forEach","titles","map","descriptions","JSON","stringify","console","children","className","onClick","stopPropagation","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","style","display","gap","alignItems","value","onChange","target","disabled","flex","cat","placeholder","required","rows","flexDirection","onDrop","onDragOver","onDragEnter","onDragLeave","_fileInputRef$current","click","cursor","fontSize","color","background","border","fontWeight","_cameraInputRef$curre","marginRight","ref","accept","capture","multiple","startsWith","alt","position","bottom","left","borderRadius","padding","justifyContent","textAlign","marginTop","zIndex","maxWidth","maxHeight","overflowY","marginBottom","gridTemplateColumns","parseInt","step","parseFloat","key","label","transition","_c","$RefreshReg$"],"sources":["D:/paper-ads-website/frontend/src/components/UploadForm.js"],"sourcesContent":["import React, { useState, useRef, useCallback, useEffect } from 'react';\r\nimport { uploadAd, uploadMultipleAds, createCategory } from '../services/api';\r\n\r\nconst UploadForm = ({ categories, onClose, onSuccess }) => {\r\n  const [selectedFiles, setSelectedFiles] = useState([]);\r\n  const [title, setTitle] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [selectedCategory, setSelectedCategory] = useState('');\r\n  const [newCategoryName, setNewCategoryName] = useState('');\r\n  const [isCreatingCategory, setIsCreatingCategory] = useState(false);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [uploadProgress, setUploadProgress] = useState(0);\r\n  const [error, setError] = useState('');\r\n  const [showImageEditor, setShowImageEditor] = useState(false);\r\n  const [currentEditingImage, setCurrentEditingImage] = useState(null);\r\n  const [currentEditingIndex, setCurrentEditingIndex] = useState(null);\r\n  const [previewImage, setPreviewImage] = useState(null);\r\n  const [selectedFilter, setSelectedFilter] = useState('original');\r\n  const [rotation, setRotation] = useState(0);\r\n  const [scale, setScale] = useState(1);\r\n  const fileInputRef = useRef();\r\n  const cameraInputRef = useRef();\r\n  const canvasRef = useRef();\r\n  const previewCanvasRef = useRef();\r\n\r\n  // Image enhancement functions\r\n  const applyDocumentScanFilter = (canvas, ctx, imageData, filterType) => {\r\n    const data = imageData.data;\r\n    const width = imageData.width;\r\n    const height = imageData.height;\r\n\r\n    switch (filterType) {\r\n      case 'original':\r\n        // No filter applied - keep original image\r\n        break;\r\n      case 'auto':\r\n        // Auto contrast + brightness + sharpen\r\n        applyAutoContrast(data);\r\n        applyBrightnessContrast(data, 10, 1.2);\r\n        applySharpen(data, width, height);\r\n        break;\r\n      case 'blackwhite':\r\n        // High contrast black and white\r\n        applyBlackWhite(data);\r\n        applyAutoContrast(data);\r\n        break;\r\n      case 'grayscale':\r\n        // Grayscale with enhanced contrast\r\n        applyGrayscale(data);\r\n        applyBrightnessContrast(data, 15, 1.3);\r\n        break;\r\n      case 'whitening':\r\n        // Document whitening\r\n        applyWhitening(data);\r\n        applyBrightnessContrast(data, 20, 1.1);\r\n        break;\r\n      case 'sharpen':\r\n        // Enhanced sharpening\r\n        applySharpen(data, width, height);\r\n        applyBrightnessContrast(data, 5, 1.1);\r\n        break;\r\n      case 'vintage':\r\n        // Vintage document look\r\n        applyVintage(data);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    ctx.putImageData(imageData, 0, 0);\r\n  };\r\n\r\n  const applyAutoContrast = (data) => {\r\n    let min = 255, max = 0;\r\n    for (let i = 0; i < data.length; i += 4) {\r\n      const gray = data[i] * 0.299 + data[i + 1] * 0.587 + data[i + 2] * 0.114;\r\n      min = Math.min(min, gray);\r\n      max = Math.max(max, gray);\r\n    }\r\n    \r\n    const range = max - min;\r\n    if (range === 0) return;\r\n    \r\n    for (let i = 0; i < data.length; i += 4) {\r\n      data[i] = Math.min(255, Math.max(0, (data[i] - min) * 255 / range));\r\n      data[i + 1] = Math.min(255, Math.max(0, (data[i + 1] - min) * 255 / range));\r\n      data[i + 2] = Math.min(255, Math.max(0, (data[i + 2] - min) * 255 / range));\r\n    }\r\n  };\r\n\r\n  const applyBrightnessContrast = (data, brightness, contrast) => {\r\n    const factor = (259 * (contrast * 100 + 255)) / (255 * (259 - contrast * 100));\r\n    for (let i = 0; i < data.length; i += 4) {\r\n      data[i] = Math.min(255, Math.max(0, factor * (data[i] - 128) + 128 + brightness));\r\n      data[i + 1] = Math.min(255, Math.max(0, factor * (data[i + 1] - 128) + 128 + brightness));\r\n      data[i + 2] = Math.min(255, Math.max(0, factor * (data[i + 2] - 128) + 128 + brightness));\r\n    }\r\n  };\r\n\r\n  const applyBlackWhite = (data) => {\r\n    for (let i = 0; i < data.length; i += 4) {\r\n      const gray = data[i] * 0.299 + data[i + 1] * 0.587 + data[i + 2] * 0.114;\r\n      const bw = gray > 128 ? 255 : 0;\r\n      data[i] = data[i + 1] = data[i + 2] = bw;\r\n    }\r\n  };\r\n\r\n  const applyGrayscale = (data) => {\r\n    for (let i = 0; i < data.length; i += 4) {\r\n      const gray = data[i] * 0.299 + data[i + 1] * 0.587 + data[i + 2] * 0.114;\r\n      data[i] = data[i + 1] = data[i + 2] = gray;\r\n    }\r\n  };\r\n\r\n  const applyWhitening = (data) => {\r\n    for (let i = 0; i < data.length; i += 4) {\r\n      data[i] = Math.min(255, data[i] + 30);\r\n      data[i + 1] = Math.min(255, data[i + 1] + 30);\r\n      data[i + 2] = Math.min(255, data[i + 2] + 30);\r\n    }\r\n  };\r\n\r\n  const applySharpen = (data, width, height) => {\r\n    const sharpenKernel = [\r\n      0, -1, 0,\r\n      -1, 5, -1,\r\n      0, -1, 0\r\n    ];\r\n    \r\n    const output = new Uint8ClampedArray(data);\r\n    \r\n    for (let y = 1; y < height - 1; y++) {\r\n      for (let x = 1; x < width - 1; x++) {\r\n        for (let c = 0; c < 3; c++) {\r\n          let sum = 0;\r\n          for (let ky = -1; ky <= 1; ky++) {\r\n            for (let kx = -1; kx <= 1; kx++) {\r\n              const idx = ((y + ky) * width + (x + kx)) * 4 + c;\r\n              sum += data[idx] * sharpenKernel[(ky + 1) * 3 + (kx + 1)];\r\n            }\r\n          }\r\n          output[(y * width + x) * 4 + c] = Math.min(255, Math.max(0, sum));\r\n        }\r\n      }\r\n    }\r\n    \r\n    for (let i = 0; i < data.length; i++) {\r\n      data[i] = output[i];\r\n    }\r\n  };\r\n\r\n  const applyVintage = (data) => {\r\n    for (let i = 0; i < data.length; i += 4) {\r\n      const r = data[i];\r\n      const g = data[i + 1];\r\n      const b = data[i + 2];\r\n      \r\n      data[i] = Math.min(255, r * 0.9 + g * 0.5 + b * 0.1);\r\n      data[i + 1] = Math.min(255, r * 0.3 + g * 0.8 + b * 0.1);\r\n      data[i + 2] = Math.min(255, r * 0.2 + g * 0.3 + b * 0.5);\r\n    }\r\n  };\r\n\r\n  const updatePreview = useCallback(() => {\r\n    if (!currentEditingImage) return;\r\n\r\n    const canvas = previewCanvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    const img = new Image();\r\n\r\n    img.onload = () => {\r\n      const maxSize = 400;\r\n      let { width, height } = img;\r\n      \r\n      // Apply scaling\r\n      width *= scale;\r\n      height *= scale;\r\n      \r\n      // Calculate display size maintaining aspect ratio\r\n      const ratio = Math.min(maxSize / width, maxSize / height);\r\n      const displayWidth = width * ratio;\r\n      const displayHeight = height * ratio;\r\n      \r\n      canvas.width = displayWidth;\r\n      canvas.height = displayHeight;\r\n      \r\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n      ctx.save();\r\n      \r\n      // Apply rotation\r\n      ctx.translate(canvas.width / 2, canvas.height / 2);\r\n      ctx.rotate((rotation * Math.PI) / 180);\r\n      ctx.translate(-displayWidth / 2, -displayHeight / 2);\r\n      \r\n      // Draw the image\r\n      ctx.drawImage(img, 0, 0, displayWidth, displayHeight);\r\n      \r\n      // Apply filter\r\n      if (selectedFilter !== 'original') {\r\n        const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\r\n        applyDocumentScanFilter(canvas, ctx, imageData, selectedFilter);\r\n      }\r\n      \r\n      ctx.restore();\r\n      \r\n      // Convert to data URL for display\r\n      setPreviewImage(canvas.toDataURL('image/jpeg', 0.9));\r\n    };\r\n\r\n    img.src = URL.createObjectURL(currentEditingImage);\r\n  }, [currentEditingImage, selectedFilter, rotation, scale]);\r\n\r\n  useEffect(() => {\r\n    updatePreview();\r\n  }, [updatePreview]);\r\n\r\n  const openImageEditor = (file, index) => {\r\n    setCurrentEditingImage(file);\r\n    setCurrentEditingIndex(index);\r\n    setSelectedFilter('original');\r\n    setRotation(0);\r\n    setScale(1);\r\n    setShowImageEditor(true);\r\n  };\r\n\r\n  const applyChangesAndSave = () => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    const img = new Image();\r\n    \r\n    img.onload = () => {\r\n      // Set canvas size based on scale\r\n      const scaledWidth = img.width * scale;\r\n      const scaledHeight = img.height * scale;\r\n      \r\n      canvas.width = scaledWidth;\r\n      canvas.height = scaledHeight;\r\n      \r\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n      ctx.save();\r\n      \r\n      // Apply rotation\r\n      ctx.translate(canvas.width / 2, canvas.height / 2);\r\n      ctx.rotate((rotation * Math.PI) / 180);\r\n      ctx.translate(-scaledWidth / 2, -scaledHeight / 2);\r\n      \r\n      // Draw the image\r\n      ctx.drawImage(img, 0, 0, scaledWidth, scaledHeight);\r\n      ctx.restore();\r\n      \r\n      // Apply filter\r\n      if (selectedFilter !== 'original') {\r\n        const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\r\n        applyDocumentScanFilter(canvas, ctx, imageData, selectedFilter);\r\n      }\r\n      \r\n      canvas.toBlob((blob) => {\r\n        const enhancedFile = new File([blob], currentEditingImage.name, {\r\n          type: 'image/jpeg',\r\n          lastModified: Date.now()\r\n        });\r\n        \r\n        const newFiles = [...selectedFiles];\r\n        newFiles[currentEditingIndex] = enhancedFile;\r\n        setSelectedFiles(newFiles);\r\n        setShowImageEditor(false);\r\n      }, 'image/jpeg', 0.9);\r\n    };\r\n    \r\n    img.src = URL.createObjectURL(currentEditingImage);\r\n  };\r\n\r\n  const handleFileSelect = useCallback((files) => {\r\n    const validFiles = Array.from(files).filter(file => {\r\n      const validTypes = ['image/jpeg', 'image/jpg', 'image/png', 'application/pdf'];\r\n      return validTypes.includes(file.type) && file.size <= 10 * 1024 * 1024;\r\n    });\r\n\r\n    if (validFiles.length !== files.length) {\r\n      setError('Some files were invalid. Only JPEG, PNG, and PDF files under 10MB are allowed.');\r\n    } else {\r\n      setError('');\r\n    }\r\n\r\n    setSelectedFiles(prev => [...prev, ...validFiles]);\r\n  }, []);\r\n\r\n  const handleDrop = useCallback((e) => {\r\n    e.preventDefault();\r\n    e.currentTarget.classList.remove('dragover');\r\n    handleFileSelect(e.dataTransfer.files);\r\n  }, [handleFileSelect]);\r\n\r\n  const handleDragOver = useCallback((e) => {\r\n    e.preventDefault();\r\n  }, []);\r\n\r\n  const handleDragEnter = useCallback((e) => {\r\n    e.preventDefault();\r\n    e.currentTarget.classList.add('dragover');\r\n  }, []);\r\n\r\n  const handleDragLeave = useCallback((e) => {\r\n    e.preventDefault();\r\n    e.currentTarget.classList.remove('dragover');\r\n  }, []);\r\n\r\n  const removeFile = useCallback((index) => {\r\n    setSelectedFiles(prev => prev.filter((_, i) => i !== index));\r\n  }, []);\r\n\r\n  const createNewCategory = async () => {\r\n    if (!newCategoryName.trim()) return null;\r\n    try {\r\n      const category = await createCategory({ name: newCategoryName.trim() });\r\n      return category._id;\r\n    } catch (error) {\r\n      setError('Failed to create category');\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (selectedFiles.length === 0) {\r\n      setError('Please select at least one file');\r\n      return;\r\n    }\r\n    let categoryId = selectedCategory;\r\n    if (isCreatingCategory) {\r\n      categoryId = await createNewCategory();\r\n      if (!categoryId) return;\r\n    }\r\n    if (!categoryId) {\r\n      setError('Please select or create a category');\r\n      return;\r\n    }\r\n    setUploading(true);\r\n    setError('');\r\n    try {\r\n      const formData = new FormData();\r\n      if (selectedFiles.length === 1) {\r\n        formData.append('image', selectedFiles[0]);\r\n        formData.append('title', title || selectedFiles[0].name);\r\n        formData.append('description', description);\r\n        formData.append('category', categoryId);\r\n        await uploadAd(formData, (progressEvent) => {\r\n          const progress = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n          setUploadProgress(progress);\r\n        });\r\n      } else {\r\n        selectedFiles.forEach(file => {\r\n          formData.append('images', file);\r\n        });\r\n        const titles = selectedFiles.map(file => title || file.name);\r\n        const descriptions = selectedFiles.map(() => description);\r\n        formData.append('titles', JSON.stringify(titles));\r\n        formData.append('descriptions', JSON.stringify(descriptions));\r\n        formData.append('category', categoryId);\r\n        await uploadMultipleAds(formData, (progressEvent) => {\r\n          const progress = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n          setUploadProgress(progress);\r\n        });\r\n      }\r\n      onSuccess();\r\n    } catch (error) {\r\n      setError('Upload failed. Please try again.');\r\n      console.error('Upload error:', error);\r\n    } finally {\r\n      setUploading(false);\r\n      setUploadProgress(0);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"modal-overlay\" onClick={onClose}>\r\n        <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n          <div className=\"modal-header\">\r\n            <h2>Upload New Ad</h2>\r\n            <button className=\"close-btn\" onClick={onClose}>×</button>\r\n          </div>\r\n          <form className=\"upload-form\" onSubmit={handleSubmit}>\r\n            {error && <div className=\"error-message\">{error}</div>}\r\n\r\n            <div className=\"form-group\">\r\n              <label>Category</label>\r\n              <div style={{ display: 'flex', gap: '10px', alignItems: 'center' }}>\r\n                <select\r\n                  className=\"form-control\"\r\n                  value={isCreatingCategory ? '' : selectedCategory}\r\n                  onChange={(e) => {\r\n                    setSelectedCategory(e.target.value);\r\n                    setIsCreatingCategory(false);\r\n                  }}\r\n                  disabled={isCreatingCategory}\r\n                  style={{ flex: 1 }}\r\n                >\r\n                  <option value=\"\">Select Category</option>\r\n                  {categories.map(cat => (\r\n                    <option key={cat._id} value={cat._id}>{cat.name}</option>\r\n                  ))}\r\n                </select>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-secondary\"\r\n                  onClick={() => setIsCreatingCategory(!isCreatingCategory)}\r\n                >\r\n                  {isCreatingCategory ? 'Cancel' : 'New'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {isCreatingCategory && (\r\n              <div className=\"form-group\">\r\n                <label>New Category Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  value={newCategoryName}\r\n                  onChange={(e) => setNewCategoryName(e.target.value)}\r\n                  placeholder=\"Enter category name\"\r\n                  required\r\n                />\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"form-group\">\r\n              <label>Title {selectedFiles.length > 1 && '(will be applied to all files)'}</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                value={title}\r\n                onChange={(e) => setTitle(e.target.value)}\r\n                placeholder=\"Enter ad title (optional)\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label>Description {selectedFiles.length > 1 && '(will be applied to all files)'}</label>\r\n              <textarea\r\n                className=\"form-control\"\r\n                value={description}\r\n                onChange={(e) => setDescription(e.target.value)}\r\n                placeholder=\"Enter ad description (optional)\"\r\n                rows=\"3\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label>Images/Files</label>\r\n              <div className=\"upload-options\" style={{ display: \"flex\", flexDirection: \"column\", gap: \"12px\" }}>\r\n                <div\r\n                  className=\"file-drop-zone\"\r\n                  onDrop={handleDrop}\r\n                  onDragOver={handleDragOver}\r\n                  onDragEnter={handleDragEnter}\r\n                  onDragLeave={handleDragLeave}\r\n                  onClick={() => fileInputRef.current?.click()}\r\n                  style={{ cursor: \"pointer\" }}\r\n                >\r\n                  <p>Drag and drop files here or click to select</p>\r\n                  <p style={{ fontSize: '0.8rem', color: '#7f8c8d' }}>\r\n                    Supported: JPEG, PNG, PDF (Max 10MB each)\r\n                  </p>\r\n                </div>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn\"\r\n                  style={{\r\n                    background: \"#f3f4f6\",\r\n                    color: \"#23244c\",\r\n                    border: \"1px solid #d1d5db\",\r\n                    fontWeight: \"600\"\r\n                  }}\r\n                  onClick={() => cameraInputRef.current?.click()}\r\n                >\r\n                  <span style={{ fontSize: \"1.5rem\", marginRight: \"0.3rem\" }}>📷</span>\r\n                  Take Photo (use camera)\r\n                </button>\r\n              </div>\r\n\r\n              <input\r\n                ref={cameraInputRef}\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                capture=\"environment\"\r\n                style={{ display: 'none' }}\r\n                onChange={(e) => handleFileSelect(e.target.files)}\r\n              />\r\n              <input\r\n                ref={fileInputRef}\r\n                type=\"file\"\r\n                multiple\r\n                accept=\".jpg,.jpeg,.png,.pdf\"\r\n                style={{ display: 'none' }}\r\n                onChange={(e) => handleFileSelect(e.target.files)}\r\n              />\r\n            </div>\r\n\r\n            {selectedFiles.length > 0 && (\r\n              <div className=\"file-preview\">\r\n                {selectedFiles.map((file, index) => (\r\n                  <div key={index} className=\"file-preview-item\">\r\n                    {file.type.startsWith('image/') ? (\r\n                      <>\r\n                        <img\r\n                          src={URL.createObjectURL(file)}\r\n                          alt={file.name}\r\n                          className=\"file-preview-image\"\r\n                        />\r\n                        <button\r\n                          type=\"button\"\r\n                          className=\"enhance-btn\"\r\n                          onClick={() => openImageEditor(file, index)}\r\n                          style={{\r\n                            position: 'absolute',\r\n                            bottom: '4px',\r\n                            left: '4px',\r\n                            background: '#4f46e5',\r\n                            color: 'white',\r\n                            border: 'none',\r\n                            borderRadius: '4px',\r\n                            padding: '2px 6px',\r\n                            fontSize: '10px',\r\n                            cursor: 'pointer'\r\n                          }}\r\n                        >\r\n                          ✨ Enhance\r\n                        </button>\r\n                      </>\r\n                    ) : (\r\n                      <div className=\"file-preview-image\" style={{\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'center',\r\n                        background: '#ecf0f1',\r\n                        fontSize: '12px',\r\n                        textAlign: 'center'\r\n                      }}>\r\n                        PDF\r\n                      </div>\r\n                    )}\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"file-remove-btn\"\r\n                      onClick={() => removeFile(index)}\r\n                    >\r\n                      ×\r\n                    </button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n\r\n            {uploading && (\r\n              <div className=\"upload-progress\">\r\n                <div\r\n                  className=\"upload-progress-bar\"\r\n                  style={{ width: `${uploadProgress}%` }}\r\n                />\r\n                <p style={{ textAlign: 'center', marginTop: '10px' }}>\r\n                  Uploading... {uploadProgress}%\r\n                </p>\r\n              </div>\r\n            )}\r\n\r\n            <div style={{ display: 'flex', gap: '10px', marginTop: '20px' }}>\r\n              <button\r\n                type=\"submit\"\r\n                className=\"btn btn-primary\"\r\n                disabled={uploading || selectedFiles.length === 0}\r\n                style={{ flex: 1 }}\r\n              >\r\n                {uploading ? 'Uploading...' : `Upload ${selectedFiles.length} file(s)`}\r\n              </button>\r\n              <button type=\"button\" className=\"btn btn-secondary\" onClick={onClose}>\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Enhanced Image Editor Modal */}\r\n      {showImageEditor && (\r\n        <div className=\"modal-overlay\" style={{ zIndex: 3000 }}>\r\n          <div className=\"modal-content\" style={{ maxWidth: '900px', maxHeight: '90vh' }} onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"modal-header\">\r\n              <h2>🔧 Enhance Document</h2>\r\n              <button className=\"close-btn\" onClick={() => setShowImageEditor(false)}>×</button>\r\n            </div>\r\n            \r\n            <div style={{ padding: '1rem', maxHeight: 'calc(90vh - 120px)', overflowY: 'auto' }}>\r\n              {/* Preview Section */}\r\n              <div style={{ marginBottom: '1.5rem', textAlign: 'center' }}>\r\n                {previewImage ? (\r\n                  <img\r\n                    src={previewImage}\r\n                    alt=\"Preview\"\r\n                    style={{\r\n                      maxWidth: '100%',\r\n                      maxHeight: '350px',\r\n                      border: '2px solid #e5e7eb',\r\n                      borderRadius: '8px'\r\n                    }}\r\n                  />\r\n                ) : (\r\n                  <div style={{ height: '300px', display: 'flex', alignItems: 'center', justifyContent: 'center', background: '#f3f4f6', borderRadius: '8px' }}>\r\n                    Loading preview...\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Transform Controls */}\r\n              <div style={{ marginBottom: '1.5rem' }}>\r\n                <h4 style={{ marginBottom: '1rem', color: '#374151' }}>Transform:</h4>\r\n                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '1rem' }}>\r\n                  <div>\r\n                    <label style={{ display: 'block', marginBottom: '0.5rem', fontSize: '0.875rem', fontWeight: '500' }}>\r\n                      Rotate: {rotation}°\r\n                    </label>\r\n                    <input\r\n                      type=\"range\"\r\n                      min=\"-180\"\r\n                      max=\"180\"\r\n                      value={rotation}\r\n                      onChange={(e) => setRotation(parseInt(e.target.value))}\r\n                      style={{ width: '100%' }}\r\n                    />\r\n                    <div style={{ display: 'flex', gap: '0.5rem', marginTop: '0.5rem' }}>\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => setRotation(rotation - 90)}\r\n                        style={{ flex: 1, padding: '0.25rem', fontSize: '0.75rem', background: '#f3f4f6', border: '1px solid #d1d5db', borderRadius: '4px', cursor: 'pointer' }}\r\n                      >\r\n                        ↶ -90°\r\n                      </button>\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => setRotation(rotation + 90)}\r\n                        style={{ flex: 1, padding: '0.25rem', fontSize: '0.75rem', background: '#f3f4f6', border: '1px solid #d1d5db', borderRadius: '4px', cursor: 'pointer' }}\r\n                      >\r\n                        ↷ +90°\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                  <div>\r\n                    <label style={{ display: 'block', marginBottom: '0.5rem', fontSize: '0.875rem', fontWeight: '500' }}>\r\n                      Scale: {Math.round(scale * 100)}%\r\n                    </label>\r\n                    <input\r\n                      type=\"range\"\r\n                      min=\"0.1\"\r\n                      max=\"3\"\r\n                      step=\"0.1\"\r\n                      value={scale}\r\n                      onChange={(e) => setScale(parseFloat(e.target.value))}\r\n                      style={{ width: '100%' }}\r\n                    />\r\n                    <div style={{ display: 'flex', gap: '0.5rem', marginTop: '0.5rem' }}>\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => setScale(0.5)}\r\n                        style={{ flex: 1, padding: '0.25rem', fontSize: '0.75rem', background: '#f3f4f6', border: '1px solid #d1d5db', borderRadius: '4px', cursor: 'pointer' }}\r\n                      >\r\n                        50%\r\n                      </button>\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => setScale(1)}\r\n                        style={{ flex: 1, padding: '0.25rem', fontSize: '0.75rem', background: '#f3f4f6', border: '1px solid #d1d5db', borderRadius: '4px', cursor: 'pointer' }}\r\n                      >\r\n                        100%\r\n                      </button>\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => setScale(1.5)}\r\n                        style={{ flex: 1, padding: '0.25rem', fontSize: '0.75rem', background: '#f3f4f6', border: '1px solid #d1d5db', borderRadius: '4px', cursor: 'pointer' }}\r\n                      >\r\n                        150%\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              {/* Filter Section */}\r\n              <div style={{ marginBottom: '1.5rem' }}>\r\n                <h4 style={{ marginBottom: '1rem', color: '#374151' }}>Choose Enhancement:</h4>\r\n                <div style={{ \r\n                  display: 'grid', \r\n                  gridTemplateColumns: 'repeat(auto-fit, minmax(120px, 1fr))', \r\n                  gap: '0.5rem' \r\n                }}>\r\n                  {[\r\n                    { key: 'original', label: '📸 Original', style: { background: selectedFilter === 'original' ? '#059669' : 'linear-gradient(135deg, #059669, #10b981)', color: 'white' }},\r\n                    { key: 'auto', label: '🚀 Auto', style: { background: selectedFilter === 'auto' ? '#3730a3' : 'linear-gradient(135deg, #4f46e5, #7c3aed)', color: 'white' }},\r\n                    { key: 'blackwhite', label: '⚫ B&W', style: { background: selectedFilter === 'blackwhite' ? '#0f172a' : '#1f2937', color: 'white' }},\r\n                    { key: 'grayscale', label: '🌫️ Gray', style: { background: selectedFilter === 'grayscale' ? '#4b5563' : '#6b7280', color: 'white' }},\r\n                    { key: 'whitening', label: '☀️ White', style: { background: selectedFilter === 'whitening' ? '#e5e7eb' : '#f3f4f6', color: selectedFilter === 'whitening' ? '#1f2937' : '#374151', border: '2px solid #d1d5db' }},\r\n                    { key: 'sharpen', label: '🔍 Sharp', style: { background: selectedFilter === 'sharpen' ? '#047857' : '#10b981', color: 'white' }},\r\n                    { key: 'vintage', label: '📜 Vintage', style: { background: selectedFilter === 'vintage' ? '#b45309' : '#d97706', color: 'white' }}\r\n                  ].map(filter => (\r\n                    <button\r\n                      key={filter.key}\r\n                      type=\"button\"\r\n                      className=\"btn\"\r\n                      onClick={() => setSelectedFilter(filter.key)}\r\n                      style={{\r\n                        ...filter.style,\r\n                        border: selectedFilter === filter.key ? '3px solid #1d4ed8' : filter.style.border || 'none',\r\n                        padding: '0.5rem 0.25rem',\r\n                        fontSize: '0.75rem',\r\n                        fontWeight: '600',\r\n                        cursor: 'pointer',\r\n                        borderRadius: '6px',\r\n                        transition: 'all 0.2s'\r\n                      }}\r\n                    >\r\n                      {filter.label}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n              \r\n              {/* Action Buttons */}\r\n              <div style={{ display: 'flex', gap: '1rem', justifyContent: 'center' }}>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn\"\r\n                  onClick={applyChangesAndSave}\r\n                  style={{\r\n                    background: '#4f46e5',\r\n                    color: 'white',\r\n                    padding: '0.75rem 2rem',\r\n                    fontSize: '1rem',\r\n                    fontWeight: '600',\r\n                    border: 'none',\r\n                    borderRadius: '8px',\r\n                    cursor: 'pointer'\r\n                  }}\r\n                >\r\n                  ✅ Apply Changes\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-secondary\"\r\n                  onClick={() => setShowImageEditor(false)}\r\n                  style={{ \r\n                    padding: '0.75rem 2rem',\r\n                    fontSize: '1rem',\r\n                    fontWeight: '600'\r\n                  }}\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      <canvas ref={canvasRef} style={{ display: 'none' }} />\r\n      <canvas ref={previewCanvasRef} style={{ display: 'none' }} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UploadForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}