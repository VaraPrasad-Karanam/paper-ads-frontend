{"ast":null,"code":"import _objectSpread from\"D:/paper-ads-website/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useRef,useCallback,useEffect}from'react';import{uploadAd,uploadMultipleAds,createCategory}from'../services/api';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const UploadForm=_ref=>{let{categories,onClose,onSuccess}=_ref;const[selectedFiles,setSelectedFiles]=useState([]);const[title,setTitle]=useState('');const[description,setDescription]=useState('');const[selectedCategory,setSelectedCategory]=useState('');const[newCategoryName,setNewCategoryName]=useState('');const[isCreatingCategory,setIsCreatingCategory]=useState(false);const[uploading,setUploading]=useState(false);const[uploadProgress,setUploadProgress]=useState(0);const[error,setError]=useState('');const[showImageEditor,setShowImageEditor]=useState(false);const[currentEditingImage,setCurrentEditingImage]=useState(null);const[currentEditingIndex,setCurrentEditingIndex]=useState(null);const[previewImage,setPreviewImage]=useState(null);const[selectedFilter,setSelectedFilter]=useState('original');const[rotation,setRotation]=useState(0);const[scale,setScale]=useState(1);const fileInputRef=useRef();const cameraInputRef=useRef();const canvasRef=useRef();const previewCanvasRef=useRef();// Image enhancement functions\nconst applyDocumentScanFilter=(canvas,ctx,imageData,filterType)=>{const data=imageData.data;const width=imageData.width;const height=imageData.height;switch(filterType){case'original':// No filter applied - keep original image\nbreak;case'auto':// Auto contrast + brightness + sharpen\napplyAutoContrast(data);applyBrightnessContrast(data,10,1.2);applySharpen(data,width,height);break;case'blackwhite':// High contrast black and white\napplyBlackWhite(data);applyAutoContrast(data);break;case'grayscale':// Grayscale with enhanced contrast\napplyGrayscale(data);applyBrightnessContrast(data,15,1.3);break;case'whitening':// Document whitening\napplyWhitening(data);applyBrightnessContrast(data,20,1.1);break;case'sharpen':// Enhanced sharpening\napplySharpen(data,width,height);applyBrightnessContrast(data,5,1.1);break;case'vintage':// Vintage document look\napplyVintage(data);break;default:break;}ctx.putImageData(imageData,0,0);};const applyAutoContrast=data=>{let min=255,max=0;for(let i=0;i<data.length;i+=4){const gray=data[i]*0.299+data[i+1]*0.587+data[i+2]*0.114;min=Math.min(min,gray);max=Math.max(max,gray);}const range=max-min;if(range===0)return;for(let i=0;i<data.length;i+=4){data[i]=Math.min(255,Math.max(0,(data[i]-min)*255/range));data[i+1]=Math.min(255,Math.max(0,(data[i+1]-min)*255/range));data[i+2]=Math.min(255,Math.max(0,(data[i+2]-min)*255/range));}};const applyBrightnessContrast=(data,brightness,contrast)=>{const factor=259*(contrast*100+255)/(255*(259-contrast*100));for(let i=0;i<data.length;i+=4){data[i]=Math.min(255,Math.max(0,factor*(data[i]-128)+128+brightness));data[i+1]=Math.min(255,Math.max(0,factor*(data[i+1]-128)+128+brightness));data[i+2]=Math.min(255,Math.max(0,factor*(data[i+2]-128)+128+brightness));}};const applyBlackWhite=data=>{for(let i=0;i<data.length;i+=4){const gray=data[i]*0.299+data[i+1]*0.587+data[i+2]*0.114;const bw=gray>128?255:0;data[i]=data[i+1]=data[i+2]=bw;}};const applyGrayscale=data=>{for(let i=0;i<data.length;i+=4){const gray=data[i]*0.299+data[i+1]*0.587+data[i+2]*0.114;data[i]=data[i+1]=data[i+2]=gray;}};const applyWhitening=data=>{for(let i=0;i<data.length;i+=4){data[i]=Math.min(255,data[i]+30);data[i+1]=Math.min(255,data[i+1]+30);data[i+2]=Math.min(255,data[i+2]+30);}};const applySharpen=(data,width,height)=>{const sharpenKernel=[0,-1,0,-1,5,-1,0,-1,0];const output=new Uint8ClampedArray(data);for(let y=1;y<height-1;y++){for(let x=1;x<width-1;x++){for(let c=0;c<3;c++){let sum=0;for(let ky=-1;ky<=1;ky++){for(let kx=-1;kx<=1;kx++){const idx=((y+ky)*width+(x+kx))*4+c;sum+=data[idx]*sharpenKernel[(ky+1)*3+(kx+1)];}}output[(y*width+x)*4+c]=Math.min(255,Math.max(0,sum));}}}for(let i=0;i<data.length;i++){data[i]=output[i];}};const applyVintage=data=>{for(let i=0;i<data.length;i+=4){const r=data[i];const g=data[i+1];const b=data[i+2];data[i]=Math.min(255,r*0.9+g*0.5+b*0.1);data[i+1]=Math.min(255,r*0.3+g*0.8+b*0.1);data[i+2]=Math.min(255,r*0.2+g*0.3+b*0.5);}};const updatePreview=useCallback(()=>{if(!currentEditingImage)return;const canvas=previewCanvasRef.current;const ctx=canvas.getContext('2d');const img=new Image();img.onload=()=>{const maxSize=400;let{width,height}=img;// Apply scaling\nwidth*=scale;height*=scale;// Calculate display size maintaining aspect ratio\nconst ratio=Math.min(maxSize/width,maxSize/height);const displayWidth=width*ratio;const displayHeight=height*ratio;canvas.width=displayWidth;canvas.height=displayHeight;ctx.clearRect(0,0,canvas.width,canvas.height);ctx.save();// Apply rotation\nctx.translate(canvas.width/2,canvas.height/2);ctx.rotate(rotation*Math.PI/180);ctx.translate(-displayWidth/2,-displayHeight/2);// Draw the image\nctx.drawImage(img,0,0,displayWidth,displayHeight);// Apply filter\nif(selectedFilter!=='original'){const imageData=ctx.getImageData(0,0,canvas.width,canvas.height);applyDocumentScanFilter(canvas,ctx,imageData,selectedFilter);}ctx.restore();// Convert to data URL for display\nsetPreviewImage(canvas.toDataURL('image/jpeg',0.9));};img.src=URL.createObjectURL(currentEditingImage);},[currentEditingImage,selectedFilter,rotation,scale]);useEffect(()=>{updatePreview();},[updatePreview]);const openImageEditor=(file,index)=>{setCurrentEditingImage(file);setCurrentEditingIndex(index);setSelectedFilter('original');setRotation(0);setScale(1);setShowImageEditor(true);};const applyChangesAndSave=()=>{const canvas=canvasRef.current;const ctx=canvas.getContext('2d');const img=new Image();img.onload=()=>{// Set canvas size based on scale\nconst scaledWidth=img.width*scale;const scaledHeight=img.height*scale;canvas.width=scaledWidth;canvas.height=scaledHeight;ctx.clearRect(0,0,canvas.width,canvas.height);ctx.save();// Apply rotation\nctx.translate(canvas.width/2,canvas.height/2);ctx.rotate(rotation*Math.PI/180);ctx.translate(-scaledWidth/2,-scaledHeight/2);// Draw the image\nctx.drawImage(img,0,0,scaledWidth,scaledHeight);ctx.restore();// Apply filter\nif(selectedFilter!=='original'){const imageData=ctx.getImageData(0,0,canvas.width,canvas.height);applyDocumentScanFilter(canvas,ctx,imageData,selectedFilter);}canvas.toBlob(blob=>{const enhancedFile=new File([blob],currentEditingImage.name,{type:'image/jpeg',lastModified:Date.now()});const newFiles=[...selectedFiles];newFiles[currentEditingIndex]=enhancedFile;setSelectedFiles(newFiles);setShowImageEditor(false);},'image/jpeg',0.9);};img.src=URL.createObjectURL(currentEditingImage);};const handleFileSelect=useCallback(files=>{const validFiles=Array.from(files).filter(file=>{const validTypes=['image/jpeg','image/jpg','image/png','application/pdf'];return validTypes.includes(file.type)&&file.size<=10*1024*1024;});if(validFiles.length!==files.length){setError('Some files were invalid. Only JPEG, PNG, and PDF files under 10MB are allowed.');}else{setError('');}setSelectedFiles(prev=>[...prev,...validFiles]);},[]);const handleDrop=useCallback(e=>{e.preventDefault();e.currentTarget.classList.remove('dragover');handleFileSelect(e.dataTransfer.files);},[handleFileSelect]);const handleDragOver=useCallback(e=>{e.preventDefault();},[]);const handleDragEnter=useCallback(e=>{e.preventDefault();e.currentTarget.classList.add('dragover');},[]);const handleDragLeave=useCallback(e=>{e.preventDefault();e.currentTarget.classList.remove('dragover');},[]);const removeFile=useCallback(index=>{setSelectedFiles(prev=>prev.filter((_,i)=>i!==index));},[]);const createNewCategory=async()=>{if(!newCategoryName.trim())return null;try{const category=await createCategory({name:newCategoryName.trim()});return category._id;}catch(error){setError('Failed to create category');return null;}};const handleSubmit=async e=>{e.preventDefault();if(selectedFiles.length===0){setError('Please select at least one file');return;}let categoryId=selectedCategory;if(isCreatingCategory){categoryId=await createNewCategory();if(!categoryId)return;}if(!categoryId){setError('Please select or create a category');return;}setUploading(true);setError('');try{const formData=new FormData();if(selectedFiles.length===1){formData.append('image',selectedFiles[0]);formData.append('title',title||selectedFiles[0].name);formData.append('description',description);formData.append('category',categoryId);await uploadAd(formData,progressEvent=>{const progress=Math.round(progressEvent.loaded*100/progressEvent.total);setUploadProgress(progress);});}else{selectedFiles.forEach(file=>{formData.append('images',file);});const titles=selectedFiles.map(file=>title||file.name);const descriptions=selectedFiles.map(()=>description);formData.append('titles',JSON.stringify(titles));formData.append('descriptions',JSON.stringify(descriptions));formData.append('category',categoryId);await uploadMultipleAds(formData,progressEvent=>{const progress=Math.round(progressEvent.loaded*100/progressEvent.total);setUploadProgress(progress);});}onSuccess();}catch(error){setError('Upload failed. Please try again.');console.error('Upload error:',error);}finally{setUploading(false);setUploadProgress(0);}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Upload New Ad\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:onClose,children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"upload-form\",onSubmit:handleSubmit,children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Category\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"select\",{className:\"form-control\",value:isCreatingCategory?'':selectedCategory,onChange:e=>{setSelectedCategory(e.target.value);setIsCreatingCategory(false);},disabled:isCreatingCategory,style:{flex:1},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Category\"}),categories.map(cat=>/*#__PURE__*/_jsx(\"option\",{value:cat._id,children:cat.name},cat._id))]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:()=>setIsCreatingCategory(!isCreatingCategory),children:isCreatingCategory?'Cancel':'New'})]})]}),isCreatingCategory&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"New Category Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:newCategoryName,onChange:e=>setNewCategoryName(e.target.value),placeholder:\"Enter category name\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Title \",selectedFiles.length>1&&'(will be applied to all files)']}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:title,onChange:e=>setTitle(e.target.value),placeholder:\"Enter ad title (optional)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Description \",selectedFiles.length>1&&'(will be applied to all files)']}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",value:description,onChange:e=>setDescription(e.target.value),placeholder:\"Enter ad description (optional)\",rows:\"3\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Images/Files\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"upload-options\",style:{display:\"flex\",flexDirection:\"column\",gap:\"12px\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"file-drop-zone\",onDrop:handleDrop,onDragOver:handleDragOver,onDragEnter:handleDragEnter,onDragLeave:handleDragLeave,onClick:()=>{var _fileInputRef$current;return(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();},style:{cursor:\"pointer\"},children:[/*#__PURE__*/_jsx(\"p\",{children:\"Drag and drop files here or click to select\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'0.8rem',color:'#7f8c8d'},children:\"Supported: JPEG, PNG, PDF (Max 10MB each)\"})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn\",style:{background:\"#f3f4f6\",color:\"#23244c\",border:\"1px solid #d1d5db\",fontWeight:\"600\"},onClick:()=>{var _cameraInputRef$curre;return(_cameraInputRef$curre=cameraInputRef.current)===null||_cameraInputRef$curre===void 0?void 0:_cameraInputRef$curre.click();},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontSize:\"1.5rem\",marginRight:\"0.3rem\"},children:\"\\uD83D\\uDCF7\"}),\"Take Photo (use camera)\"]})]}),/*#__PURE__*/_jsx(\"input\",{ref:cameraInputRef,type:\"file\",accept:\"image/*\",capture:\"environment\",style:{display:'none'},onChange:e=>handleFileSelect(e.target.files)}),/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",multiple:true,accept:\".jpg,.jpeg,.png,.pdf\",style:{display:'none'},onChange:e=>handleFileSelect(e.target.files)})]}),selectedFiles.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"file-preview\",children:selectedFiles.map((file,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"file-preview-item\",children:[file.type.startsWith('image/')?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{src:URL.createObjectURL(file),alt:file.name,className:\"file-preview-image\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"enhance-btn\",onClick:()=>openImageEditor(file,index),style:{position:'absolute',bottom:'4px',left:'4px',background:'#4f46e5',color:'white',border:'none',borderRadius:'4px',padding:'2px 6px',fontSize:'10px',cursor:'pointer'},children:\"\\u2728 Enhance\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"file-preview-image\",style:{display:'flex',alignItems:'center',justifyContent:'center',background:'#ecf0f1',fontSize:'12px',textAlign:'center'},children:\"PDF\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"file-remove-btn\",onClick:()=>removeFile(index),children:\"\\xD7\"})]},index))}),uploading&&/*#__PURE__*/_jsxs(\"div\",{className:\"upload-progress\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"upload-progress-bar\",style:{width:\"\".concat(uploadProgress,\"%\")}}),/*#__PURE__*/_jsxs(\"p\",{style:{textAlign:'center',marginTop:'10px'},children:[\"Uploading... \",uploadProgress,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px',marginTop:'20px'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:uploading||selectedFiles.length===0,style:{flex:1},children:uploading?'Uploading...':\"Upload \".concat(selectedFiles.length,\" file(s)\")}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:onClose,children:\"Cancel\"})]})]})]})}),showImageEditor&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",style:{zIndex:3000},children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",style:{maxWidth:'900px',maxHeight:'90vh'},onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDD27 Enhance Document\"}),/*#__PURE__*/_jsx(\"button\",{className:\"close-btn\",onClick:()=>setShowImageEditor(false),children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem',maxHeight:'calc(90vh - 120px)',overflowY:'auto'},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'1.5rem',textAlign:'center'},children:previewImage?/*#__PURE__*/_jsx(\"img\",{src:previewImage,alt:\"Preview\",style:{maxWidth:'100%',maxHeight:'350px',border:'2px solid #e5e7eb',borderRadius:'8px'}}):/*#__PURE__*/_jsx(\"div\",{style:{height:'300px',display:'flex',alignItems:'center',justifyContent:'center',background:'#f3f4f6',borderRadius:'8px'},children:\"Loading preview...\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{marginBottom:'1rem',color:'#374151'},children:\"Transform:\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))',gap:'1rem'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{style:{display:'block',marginBottom:'0.5rem',fontSize:'0.875rem',fontWeight:'500'},children:[\"Rotate: \",rotation,\"\\xB0\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"-180\",max:\"180\",value:rotation,onChange:e=>setRotation(parseInt(e.target.value)),style:{width:'100%'}}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem',marginTop:'0.5rem'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setRotation(rotation-90),style:{flex:1,padding:'0.25rem',fontSize:'0.75rem',background:'#f3f4f6',border:'1px solid #d1d5db',borderRadius:'4px',cursor:'pointer'},children:\"\\u21B6 -90\\xB0\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setRotation(rotation+90),style:{flex:1,padding:'0.25rem',fontSize:'0.75rem',background:'#f3f4f6',border:'1px solid #d1d5db',borderRadius:'4px',cursor:'pointer'},children:\"\\u21B7 +90\\xB0\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{style:{display:'block',marginBottom:'0.5rem',fontSize:'0.875rem',fontWeight:'500'},children:[\"Scale: \",Math.round(scale*100),\"%\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"0.1\",max:\"3\",step:\"0.1\",value:scale,onChange:e=>setScale(parseFloat(e.target.value)),style:{width:'100%'}}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'0.5rem',marginTop:'0.5rem'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setScale(0.5),style:{flex:1,padding:'0.25rem',fontSize:'0.75rem',background:'#f3f4f6',border:'1px solid #d1d5db',borderRadius:'4px',cursor:'pointer'},children:\"50%\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setScale(1),style:{flex:1,padding:'0.25rem',fontSize:'0.75rem',background:'#f3f4f6',border:'1px solid #d1d5db',borderRadius:'4px',cursor:'pointer'},children:\"100%\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setScale(1.5),style:{flex:1,padding:'0.25rem',fontSize:'0.75rem',background:'#f3f4f6',border:'1px solid #d1d5db',borderRadius:'4px',cursor:'pointer'},children:\"150%\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'1.5rem'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{marginBottom:'1rem',color:'#374151'},children:\"Choose Enhancement:\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(120px, 1fr))',gap:'0.5rem'},children:[{key:'original',label:'ðŸ“¸ Original',style:{background:selectedFilter==='original'?'#059669':'linear-gradient(135deg, #059669, #10b981)',color:'white'}},{key:'auto',label:'ðŸš€ Auto',style:{background:selectedFilter==='auto'?'#3730a3':'linear-gradient(135deg, #4f46e5, #7c3aed)',color:'white'}},{key:'blackwhite',label:'âš« B&W',style:{background:selectedFilter==='blackwhite'?'#0f172a':'#1f2937',color:'white'}},{key:'grayscale',label:'ðŸŒ«ï¸ Gray',style:{background:selectedFilter==='grayscale'?'#4b5563':'#6b7280',color:'white'}},{key:'whitening',label:'â˜€ï¸ White',style:{background:selectedFilter==='whitening'?'#e5e7eb':'#f3f4f6',color:selectedFilter==='whitening'?'#1f2937':'#374151',border:'2px solid #d1d5db'}},{key:'sharpen',label:'ðŸ” Sharp',style:{background:selectedFilter==='sharpen'?'#047857':'#10b981',color:'white'}},{key:'vintage',label:'ðŸ“œ Vintage',style:{background:selectedFilter==='vintage'?'#b45309':'#d97706',color:'white'}}].map(filter=>/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn\",onClick:()=>setSelectedFilter(filter.key),style:_objectSpread(_objectSpread({},filter.style),{},{border:selectedFilter===filter.key?'3px solid #1d4ed8':filter.style.border||'none',padding:'0.5rem 0.25rem',fontSize:'0.75rem',fontWeight:'600',cursor:'pointer',borderRadius:'6px',transition:'all 0.2s'}),children:filter.label},filter.key))})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'1rem',justifyContent:'center'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn\",onClick:applyChangesAndSave,style:{background:'#4f46e5',color:'white',padding:'0.75rem 2rem',fontSize:'1rem',fontWeight:'600',border:'none',borderRadius:'8px',cursor:'pointer'},children:\"\\u2705 Apply Changes\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:()=>setShowImageEditor(false),style:{padding:'0.75rem 2rem',fontSize:'1rem',fontWeight:'600'},children:\"Cancel\"})]})]})]})}),/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,style:{display:'none'}}),/*#__PURE__*/_jsx(\"canvas\",{ref:previewCanvasRef,style:{display:'none'}})]});};export default UploadForm;","map":{"version":3,"names":["React","useState","useRef","useCallback","useEffect","uploadAd","uploadMultipleAds","createCategory","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UploadForm","_ref","categories","onClose","onSuccess","selectedFiles","setSelectedFiles","title","setTitle","description","setDescription","selectedCategory","setSelectedCategory","newCategoryName","setNewCategoryName","isCreatingCategory","setIsCreatingCategory","uploading","setUploading","uploadProgress","setUploadProgress","error","setError","showImageEditor","setShowImageEditor","currentEditingImage","setCurrentEditingImage","currentEditingIndex","setCurrentEditingIndex","previewImage","setPreviewImage","selectedFilter","setSelectedFilter","rotation","setRotation","scale","setScale","fileInputRef","cameraInputRef","canvasRef","previewCanvasRef","applyDocumentScanFilter","canvas","ctx","imageData","filterType","data","width","height","applyAutoContrast","applyBrightnessContrast","applySharpen","applyBlackWhite","applyGrayscale","applyWhitening","applyVintage","putImageData","min","max","i","length","gray","Math","range","brightness","contrast","factor","bw","sharpenKernel","output","Uint8ClampedArray","y","x","c","sum","ky","kx","idx","r","g","b","updatePreview","current","getContext","img","Image","onload","maxSize","ratio","displayWidth","displayHeight","clearRect","save","translate","rotate","PI","drawImage","getImageData","restore","toDataURL","src","URL","createObjectURL","openImageEditor","file","index","applyChangesAndSave","scaledWidth","scaledHeight","toBlob","blob","enhancedFile","File","name","type","lastModified","Date","now","newFiles","handleFileSelect","files","validFiles","Array","from","filter","validTypes","includes","size","prev","handleDrop","e","preventDefault","currentTarget","classList","remove","dataTransfer","handleDragOver","handleDragEnter","add","handleDragLeave","removeFile","_","createNewCategory","trim","category","_id","handleSubmit","categoryId","formData","FormData","append","progressEvent","progress","round","loaded","total","forEach","titles","map","descriptions","JSON","stringify","console","children","className","onClick","stopPropagation","onSubmit","style","display","gap","alignItems","value","onChange","target","disabled","flex","cat","placeholder","required","rows","flexDirection","onDrop","onDragOver","onDragEnter","onDragLeave","_fileInputRef$current","click","cursor","fontSize","color","background","border","fontWeight","_cameraInputRef$curre","marginRight","ref","accept","capture","multiple","startsWith","alt","position","bottom","left","borderRadius","padding","justifyContent","textAlign","concat","marginTop","zIndex","maxWidth","maxHeight","overflowY","marginBottom","gridTemplateColumns","parseInt","step","parseFloat","key","label","_objectSpread","transition"],"sources":["D:/paper-ads-website/frontend/src/components/UploadForm.js"],"sourcesContent":["import React, { useState, useRef, useCallback, useEffect } from 'react';\r\nimport { uploadAd, uploadMultipleAds, createCategory } from '../services/api';\r\n\r\nconst UploadForm = ({ categories, onClose, onSuccess }) => {\r\n  const [selectedFiles, setSelectedFiles] = useState([]);\r\n  const [title, setTitle] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [selectedCategory, setSelectedCategory] = useState('');\r\n  const [newCategoryName, setNewCategoryName] = useState('');\r\n  const [isCreatingCategory, setIsCreatingCategory] = useState(false);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [uploadProgress, setUploadProgress] = useState(0);\r\n  const [error, setError] = useState('');\r\n  const [showImageEditor, setShowImageEditor] = useState(false);\r\n  const [currentEditingImage, setCurrentEditingImage] = useState(null);\r\n  const [currentEditingIndex, setCurrentEditingIndex] = useState(null);\r\n  const [previewImage, setPreviewImage] = useState(null);\r\n  const [selectedFilter, setSelectedFilter] = useState('original');\r\n  const [rotation, setRotation] = useState(0);\r\n  const [scale, setScale] = useState(1);\r\n  const fileInputRef = useRef();\r\n  const cameraInputRef = useRef();\r\n  const canvasRef = useRef();\r\n  const previewCanvasRef = useRef();\r\n\r\n  // Image enhancement functions\r\n  const applyDocumentScanFilter = (canvas, ctx, imageData, filterType) => {\r\n    const data = imageData.data;\r\n    const width = imageData.width;\r\n    const height = imageData.height;\r\n\r\n    switch (filterType) {\r\n      case 'original':\r\n        // No filter applied - keep original image\r\n        break;\r\n      case 'auto':\r\n        // Auto contrast + brightness + sharpen\r\n        applyAutoContrast(data);\r\n        applyBrightnessContrast(data, 10, 1.2);\r\n        applySharpen(data, width, height);\r\n        break;\r\n      case 'blackwhite':\r\n        // High contrast black and white\r\n        applyBlackWhite(data);\r\n        applyAutoContrast(data);\r\n        break;\r\n      case 'grayscale':\r\n        // Grayscale with enhanced contrast\r\n        applyGrayscale(data);\r\n        applyBrightnessContrast(data, 15, 1.3);\r\n        break;\r\n      case 'whitening':\r\n        // Document whitening\r\n        applyWhitening(data);\r\n        applyBrightnessContrast(data, 20, 1.1);\r\n        break;\r\n      case 'sharpen':\r\n        // Enhanced sharpening\r\n        applySharpen(data, width, height);\r\n        applyBrightnessContrast(data, 5, 1.1);\r\n        break;\r\n      case 'vintage':\r\n        // Vintage document look\r\n        applyVintage(data);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    ctx.putImageData(imageData, 0, 0);\r\n  };\r\n\r\n  const applyAutoContrast = (data) => {\r\n    let min = 255, max = 0;\r\n    for (let i = 0; i < data.length; i += 4) {\r\n      const gray = data[i] * 0.299 + data[i + 1] * 0.587 + data[i + 2] * 0.114;\r\n      min = Math.min(min, gray);\r\n      max = Math.max(max, gray);\r\n    }\r\n    \r\n    const range = max - min;\r\n    if (range === 0) return;\r\n    \r\n    for (let i = 0; i < data.length; i += 4) {\r\n      data[i] = Math.min(255, Math.max(0, (data[i] - min) * 255 / range));\r\n      data[i + 1] = Math.min(255, Math.max(0, (data[i + 1] - min) * 255 / range));\r\n      data[i + 2] = Math.min(255, Math.max(0, (data[i + 2] - min) * 255 / range));\r\n    }\r\n  };\r\n\r\n  const applyBrightnessContrast = (data, brightness, contrast) => {\r\n    const factor = (259 * (contrast * 100 + 255)) / (255 * (259 - contrast * 100));\r\n    for (let i = 0; i < data.length; i += 4) {\r\n      data[i] = Math.min(255, Math.max(0, factor * (data[i] - 128) + 128 + brightness));\r\n      data[i + 1] = Math.min(255, Math.max(0, factor * (data[i + 1] - 128) + 128 + brightness));\r\n      data[i + 2] = Math.min(255, Math.max(0, factor * (data[i + 2] - 128) + 128 + brightness));\r\n    }\r\n  };\r\n\r\n  const applyBlackWhite = (data) => {\r\n    for (let i = 0; i < data.length; i += 4) {\r\n      const gray = data[i] * 0.299 + data[i + 1] * 0.587 + data[i + 2] * 0.114;\r\n      const bw = gray > 128 ? 255 : 0;\r\n      data[i] = data[i + 1] = data[i + 2] = bw;\r\n    }\r\n  };\r\n\r\n  const applyGrayscale = (data) => {\r\n    for (let i = 0; i < data.length; i += 4) {\r\n      const gray = data[i] * 0.299 + data[i + 1] * 0.587 + data[i + 2] * 0.114;\r\n      data[i] = data[i + 1] = data[i + 2] = gray;\r\n    }\r\n  };\r\n\r\n  const applyWhitening = (data) => {\r\n    for (let i = 0; i < data.length; i += 4) {\r\n      data[i] = Math.min(255, data[i] + 30);\r\n      data[i + 1] = Math.min(255, data[i + 1] + 30);\r\n      data[i + 2] = Math.min(255, data[i + 2] + 30);\r\n    }\r\n  };\r\n\r\n  const applySharpen = (data, width, height) => {\r\n    const sharpenKernel = [\r\n      0, -1, 0,\r\n      -1, 5, -1,\r\n      0, -1, 0\r\n    ];\r\n    \r\n    const output = new Uint8ClampedArray(data);\r\n    \r\n    for (let y = 1; y < height - 1; y++) {\r\n      for (let x = 1; x < width - 1; x++) {\r\n        for (let c = 0; c < 3; c++) {\r\n          let sum = 0;\r\n          for (let ky = -1; ky <= 1; ky++) {\r\n            for (let kx = -1; kx <= 1; kx++) {\r\n              const idx = ((y + ky) * width + (x + kx)) * 4 + c;\r\n              sum += data[idx] * sharpenKernel[(ky + 1) * 3 + (kx + 1)];\r\n            }\r\n          }\r\n          output[(y * width + x) * 4 + c] = Math.min(255, Math.max(0, sum));\r\n        }\r\n      }\r\n    }\r\n    \r\n    for (let i = 0; i < data.length; i++) {\r\n      data[i] = output[i];\r\n    }\r\n  };\r\n\r\n  const applyVintage = (data) => {\r\n    for (let i = 0; i < data.length; i += 4) {\r\n      const r = data[i];\r\n      const g = data[i + 1];\r\n      const b = data[i + 2];\r\n      \r\n      data[i] = Math.min(255, r * 0.9 + g * 0.5 + b * 0.1);\r\n      data[i + 1] = Math.min(255, r * 0.3 + g * 0.8 + b * 0.1);\r\n      data[i + 2] = Math.min(255, r * 0.2 + g * 0.3 + b * 0.5);\r\n    }\r\n  };\r\n\r\n  const updatePreview = useCallback(() => {\r\n    if (!currentEditingImage) return;\r\n\r\n    const canvas = previewCanvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    const img = new Image();\r\n\r\n    img.onload = () => {\r\n      const maxSize = 400;\r\n      let { width, height } = img;\r\n      \r\n      // Apply scaling\r\n      width *= scale;\r\n      height *= scale;\r\n      \r\n      // Calculate display size maintaining aspect ratio\r\n      const ratio = Math.min(maxSize / width, maxSize / height);\r\n      const displayWidth = width * ratio;\r\n      const displayHeight = height * ratio;\r\n      \r\n      canvas.width = displayWidth;\r\n      canvas.height = displayHeight;\r\n      \r\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n      ctx.save();\r\n      \r\n      // Apply rotation\r\n      ctx.translate(canvas.width / 2, canvas.height / 2);\r\n      ctx.rotate((rotation * Math.PI) / 180);\r\n      ctx.translate(-displayWidth / 2, -displayHeight / 2);\r\n      \r\n      // Draw the image\r\n      ctx.drawImage(img, 0, 0, displayWidth, displayHeight);\r\n      \r\n      // Apply filter\r\n      if (selectedFilter !== 'original') {\r\n        const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\r\n        applyDocumentScanFilter(canvas, ctx, imageData, selectedFilter);\r\n      }\r\n      \r\n      ctx.restore();\r\n      \r\n      // Convert to data URL for display\r\n      setPreviewImage(canvas.toDataURL('image/jpeg', 0.9));\r\n    };\r\n\r\n    img.src = URL.createObjectURL(currentEditingImage);\r\n  }, [currentEditingImage, selectedFilter, rotation, scale]);\r\n\r\n  useEffect(() => {\r\n    updatePreview();\r\n  }, [updatePreview]);\r\n\r\n  const openImageEditor = (file, index) => {\r\n    setCurrentEditingImage(file);\r\n    setCurrentEditingIndex(index);\r\n    setSelectedFilter('original');\r\n    setRotation(0);\r\n    setScale(1);\r\n    setShowImageEditor(true);\r\n  };\r\n\r\n  const applyChangesAndSave = () => {\r\n    const canvas = canvasRef.current;\r\n    const ctx = canvas.getContext('2d');\r\n    const img = new Image();\r\n    \r\n    img.onload = () => {\r\n      // Set canvas size based on scale\r\n      const scaledWidth = img.width * scale;\r\n      const scaledHeight = img.height * scale;\r\n      \r\n      canvas.width = scaledWidth;\r\n      canvas.height = scaledHeight;\r\n      \r\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n      ctx.save();\r\n      \r\n      // Apply rotation\r\n      ctx.translate(canvas.width / 2, canvas.height / 2);\r\n      ctx.rotate((rotation * Math.PI) / 180);\r\n      ctx.translate(-scaledWidth / 2, -scaledHeight / 2);\r\n      \r\n      // Draw the image\r\n      ctx.drawImage(img, 0, 0, scaledWidth, scaledHeight);\r\n      ctx.restore();\r\n      \r\n      // Apply filter\r\n      if (selectedFilter !== 'original') {\r\n        const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\r\n        applyDocumentScanFilter(canvas, ctx, imageData, selectedFilter);\r\n      }\r\n      \r\n      canvas.toBlob((blob) => {\r\n        const enhancedFile = new File([blob], currentEditingImage.name, {\r\n          type: 'image/jpeg',\r\n          lastModified: Date.now()\r\n        });\r\n        \r\n        const newFiles = [...selectedFiles];\r\n        newFiles[currentEditingIndex] = enhancedFile;\r\n        setSelectedFiles(newFiles);\r\n        setShowImageEditor(false);\r\n      }, 'image/jpeg', 0.9);\r\n    };\r\n    \r\n    img.src = URL.createObjectURL(currentEditingImage);\r\n  };\r\n\r\n  const handleFileSelect = useCallback((files) => {\r\n    const validFiles = Array.from(files).filter(file => {\r\n      const validTypes = ['image/jpeg', 'image/jpg', 'image/png', 'application/pdf'];\r\n      return validTypes.includes(file.type) && file.size <= 10 * 1024 * 1024;\r\n    });\r\n\r\n    if (validFiles.length !== files.length) {\r\n      setError('Some files were invalid. Only JPEG, PNG, and PDF files under 10MB are allowed.');\r\n    } else {\r\n      setError('');\r\n    }\r\n\r\n    setSelectedFiles(prev => [...prev, ...validFiles]);\r\n  }, []);\r\n\r\n  const handleDrop = useCallback((e) => {\r\n    e.preventDefault();\r\n    e.currentTarget.classList.remove('dragover');\r\n    handleFileSelect(e.dataTransfer.files);\r\n  }, [handleFileSelect]);\r\n\r\n  const handleDragOver = useCallback((e) => {\r\n    e.preventDefault();\r\n  }, []);\r\n\r\n  const handleDragEnter = useCallback((e) => {\r\n    e.preventDefault();\r\n    e.currentTarget.classList.add('dragover');\r\n  }, []);\r\n\r\n  const handleDragLeave = useCallback((e) => {\r\n    e.preventDefault();\r\n    e.currentTarget.classList.remove('dragover');\r\n  }, []);\r\n\r\n  const removeFile = useCallback((index) => {\r\n    setSelectedFiles(prev => prev.filter((_, i) => i !== index));\r\n  }, []);\r\n\r\n  const createNewCategory = async () => {\r\n    if (!newCategoryName.trim()) return null;\r\n    try {\r\n      const category = await createCategory({ name: newCategoryName.trim() });\r\n      return category._id;\r\n    } catch (error) {\r\n      setError('Failed to create category');\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (selectedFiles.length === 0) {\r\n      setError('Please select at least one file');\r\n      return;\r\n    }\r\n    let categoryId = selectedCategory;\r\n    if (isCreatingCategory) {\r\n      categoryId = await createNewCategory();\r\n      if (!categoryId) return;\r\n    }\r\n    if (!categoryId) {\r\n      setError('Please select or create a category');\r\n      return;\r\n    }\r\n    setUploading(true);\r\n    setError('');\r\n    try {\r\n      const formData = new FormData();\r\n      if (selectedFiles.length === 1) {\r\n        formData.append('image', selectedFiles[0]);\r\n        formData.append('title', title || selectedFiles[0].name);\r\n        formData.append('description', description);\r\n        formData.append('category', categoryId);\r\n        await uploadAd(formData, (progressEvent) => {\r\n          const progress = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n          setUploadProgress(progress);\r\n        });\r\n      } else {\r\n        selectedFiles.forEach(file => {\r\n          formData.append('images', file);\r\n        });\r\n        const titles = selectedFiles.map(file => title || file.name);\r\n        const descriptions = selectedFiles.map(() => description);\r\n        formData.append('titles', JSON.stringify(titles));\r\n        formData.append('descriptions', JSON.stringify(descriptions));\r\n        formData.append('category', categoryId);\r\n        await uploadMultipleAds(formData, (progressEvent) => {\r\n          const progress = Math.round((progressEvent.loaded * 100) / progressEvent.total);\r\n          setUploadProgress(progress);\r\n        });\r\n      }\r\n      onSuccess();\r\n    } catch (error) {\r\n      setError('Upload failed. Please try again.');\r\n      console.error('Upload error:', error);\r\n    } finally {\r\n      setUploading(false);\r\n      setUploadProgress(0);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"modal-overlay\" onClick={onClose}>\r\n        <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n          <div className=\"modal-header\">\r\n            <h2>Upload New Ad</h2>\r\n            <button className=\"close-btn\" onClick={onClose}>Ã—</button>\r\n          </div>\r\n          <form className=\"upload-form\" onSubmit={handleSubmit}>\r\n            {error && <div className=\"error-message\">{error}</div>}\r\n\r\n            <div className=\"form-group\">\r\n              <label>Category</label>\r\n              <div style={{ display: 'flex', gap: '10px', alignItems: 'center' }}>\r\n                <select\r\n                  className=\"form-control\"\r\n                  value={isCreatingCategory ? '' : selectedCategory}\r\n                  onChange={(e) => {\r\n                    setSelectedCategory(e.target.value);\r\n                    setIsCreatingCategory(false);\r\n                  }}\r\n                  disabled={isCreatingCategory}\r\n                  style={{ flex: 1 }}\r\n                >\r\n                  <option value=\"\">Select Category</option>\r\n                  {categories.map(cat => (\r\n                    <option key={cat._id} value={cat._id}>{cat.name}</option>\r\n                  ))}\r\n                </select>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-secondary\"\r\n                  onClick={() => setIsCreatingCategory(!isCreatingCategory)}\r\n                >\r\n                  {isCreatingCategory ? 'Cancel' : 'New'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n\r\n            {isCreatingCategory && (\r\n              <div className=\"form-group\">\r\n                <label>New Category Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  className=\"form-control\"\r\n                  value={newCategoryName}\r\n                  onChange={(e) => setNewCategoryName(e.target.value)}\r\n                  placeholder=\"Enter category name\"\r\n                  required\r\n                />\r\n              </div>\r\n            )}\r\n\r\n            <div className=\"form-group\">\r\n              <label>Title {selectedFiles.length > 1 && '(will be applied to all files)'}</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                value={title}\r\n                onChange={(e) => setTitle(e.target.value)}\r\n                placeholder=\"Enter ad title (optional)\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label>Description {selectedFiles.length > 1 && '(will be applied to all files)'}</label>\r\n              <textarea\r\n                className=\"form-control\"\r\n                value={description}\r\n                onChange={(e) => setDescription(e.target.value)}\r\n                placeholder=\"Enter ad description (optional)\"\r\n                rows=\"3\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label>Images/Files</label>\r\n              <div className=\"upload-options\" style={{ display: \"flex\", flexDirection: \"column\", gap: \"12px\" }}>\r\n                <div\r\n                  className=\"file-drop-zone\"\r\n                  onDrop={handleDrop}\r\n                  onDragOver={handleDragOver}\r\n                  onDragEnter={handleDragEnter}\r\n                  onDragLeave={handleDragLeave}\r\n                  onClick={() => fileInputRef.current?.click()}\r\n                  style={{ cursor: \"pointer\" }}\r\n                >\r\n                  <p>Drag and drop files here or click to select</p>\r\n                  <p style={{ fontSize: '0.8rem', color: '#7f8c8d' }}>\r\n                    Supported: JPEG, PNG, PDF (Max 10MB each)\r\n                  </p>\r\n                </div>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn\"\r\n                  style={{\r\n                    background: \"#f3f4f6\",\r\n                    color: \"#23244c\",\r\n                    border: \"1px solid #d1d5db\",\r\n                    fontWeight: \"600\"\r\n                  }}\r\n                  onClick={() => cameraInputRef.current?.click()}\r\n                >\r\n                  <span style={{ fontSize: \"1.5rem\", marginRight: \"0.3rem\" }}>ðŸ“·</span>\r\n                  Take Photo (use camera)\r\n                </button>\r\n              </div>\r\n\r\n              <input\r\n                ref={cameraInputRef}\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                capture=\"environment\"\r\n                style={{ display: 'none' }}\r\n                onChange={(e) => handleFileSelect(e.target.files)}\r\n              />\r\n              <input\r\n                ref={fileInputRef}\r\n                type=\"file\"\r\n                multiple\r\n                accept=\".jpg,.jpeg,.png,.pdf\"\r\n                style={{ display: 'none' }}\r\n                onChange={(e) => handleFileSelect(e.target.files)}\r\n              />\r\n            </div>\r\n\r\n            {selectedFiles.length > 0 && (\r\n              <div className=\"file-preview\">\r\n                {selectedFiles.map((file, index) => (\r\n                  <div key={index} className=\"file-preview-item\">\r\n                    {file.type.startsWith('image/') ? (\r\n                      <>\r\n                        <img\r\n                          src={URL.createObjectURL(file)}\r\n                          alt={file.name}\r\n                          className=\"file-preview-image\"\r\n                        />\r\n                        <button\r\n                          type=\"button\"\r\n                          className=\"enhance-btn\"\r\n                          onClick={() => openImageEditor(file, index)}\r\n                          style={{\r\n                            position: 'absolute',\r\n                            bottom: '4px',\r\n                            left: '4px',\r\n                            background: '#4f46e5',\r\n                            color: 'white',\r\n                            border: 'none',\r\n                            borderRadius: '4px',\r\n                            padding: '2px 6px',\r\n                            fontSize: '10px',\r\n                            cursor: 'pointer'\r\n                          }}\r\n                        >\r\n                          âœ¨ Enhance\r\n                        </button>\r\n                      </>\r\n                    ) : (\r\n                      <div className=\"file-preview-image\" style={{\r\n                        display: 'flex',\r\n                        alignItems: 'center',\r\n                        justifyContent: 'center',\r\n                        background: '#ecf0f1',\r\n                        fontSize: '12px',\r\n                        textAlign: 'center'\r\n                      }}>\r\n                        PDF\r\n                      </div>\r\n                    )}\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"file-remove-btn\"\r\n                      onClick={() => removeFile(index)}\r\n                    >\r\n                      Ã—\r\n                    </button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n\r\n            {uploading && (\r\n              <div className=\"upload-progress\">\r\n                <div\r\n                  className=\"upload-progress-bar\"\r\n                  style={{ width: `${uploadProgress}%` }}\r\n                />\r\n                <p style={{ textAlign: 'center', marginTop: '10px' }}>\r\n                  Uploading... {uploadProgress}%\r\n                </p>\r\n              </div>\r\n            )}\r\n\r\n            <div style={{ display: 'flex', gap: '10px', marginTop: '20px' }}>\r\n              <button\r\n                type=\"submit\"\r\n                className=\"btn btn-primary\"\r\n                disabled={uploading || selectedFiles.length === 0}\r\n                style={{ flex: 1 }}\r\n              >\r\n                {uploading ? 'Uploading...' : `Upload ${selectedFiles.length} file(s)`}\r\n              </button>\r\n              <button type=\"button\" className=\"btn btn-secondary\" onClick={onClose}>\r\n                Cancel\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Enhanced Image Editor Modal */}\r\n      {showImageEditor && (\r\n        <div className=\"modal-overlay\" style={{ zIndex: 3000 }}>\r\n          <div className=\"modal-content\" style={{ maxWidth: '900px', maxHeight: '90vh' }} onClick={(e) => e.stopPropagation()}>\r\n            <div className=\"modal-header\">\r\n              <h2>ðŸ”§ Enhance Document</h2>\r\n              <button className=\"close-btn\" onClick={() => setShowImageEditor(false)}>Ã—</button>\r\n            </div>\r\n            \r\n            <div style={{ padding: '1rem', maxHeight: 'calc(90vh - 120px)', overflowY: 'auto' }}>\r\n              {/* Preview Section */}\r\n              <div style={{ marginBottom: '1.5rem', textAlign: 'center' }}>\r\n                {previewImage ? (\r\n                  <img\r\n                    src={previewImage}\r\n                    alt=\"Preview\"\r\n                    style={{\r\n                      maxWidth: '100%',\r\n                      maxHeight: '350px',\r\n                      border: '2px solid #e5e7eb',\r\n                      borderRadius: '8px'\r\n                    }}\r\n                  />\r\n                ) : (\r\n                  <div style={{ height: '300px', display: 'flex', alignItems: 'center', justifyContent: 'center', background: '#f3f4f6', borderRadius: '8px' }}>\r\n                    Loading preview...\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              {/* Transform Controls */}\r\n              <div style={{ marginBottom: '1.5rem' }}>\r\n                <h4 style={{ marginBottom: '1rem', color: '#374151' }}>Transform:</h4>\r\n                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '1rem' }}>\r\n                  <div>\r\n                    <label style={{ display: 'block', marginBottom: '0.5rem', fontSize: '0.875rem', fontWeight: '500' }}>\r\n                      Rotate: {rotation}Â°\r\n                    </label>\r\n                    <input\r\n                      type=\"range\"\r\n                      min=\"-180\"\r\n                      max=\"180\"\r\n                      value={rotation}\r\n                      onChange={(e) => setRotation(parseInt(e.target.value))}\r\n                      style={{ width: '100%' }}\r\n                    />\r\n                    <div style={{ display: 'flex', gap: '0.5rem', marginTop: '0.5rem' }}>\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => setRotation(rotation - 90)}\r\n                        style={{ flex: 1, padding: '0.25rem', fontSize: '0.75rem', background: '#f3f4f6', border: '1px solid #d1d5db', borderRadius: '4px', cursor: 'pointer' }}\r\n                      >\r\n                        â†¶ -90Â°\r\n                      </button>\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => setRotation(rotation + 90)}\r\n                        style={{ flex: 1, padding: '0.25rem', fontSize: '0.75rem', background: '#f3f4f6', border: '1px solid #d1d5db', borderRadius: '4px', cursor: 'pointer' }}\r\n                      >\r\n                        â†· +90Â°\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                  <div>\r\n                    <label style={{ display: 'block', marginBottom: '0.5rem', fontSize: '0.875rem', fontWeight: '500' }}>\r\n                      Scale: {Math.round(scale * 100)}%\r\n                    </label>\r\n                    <input\r\n                      type=\"range\"\r\n                      min=\"0.1\"\r\n                      max=\"3\"\r\n                      step=\"0.1\"\r\n                      value={scale}\r\n                      onChange={(e) => setScale(parseFloat(e.target.value))}\r\n                      style={{ width: '100%' }}\r\n                    />\r\n                    <div style={{ display: 'flex', gap: '0.5rem', marginTop: '0.5rem' }}>\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => setScale(0.5)}\r\n                        style={{ flex: 1, padding: '0.25rem', fontSize: '0.75rem', background: '#f3f4f6', border: '1px solid #d1d5db', borderRadius: '4px', cursor: 'pointer' }}\r\n                      >\r\n                        50%\r\n                      </button>\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => setScale(1)}\r\n                        style={{ flex: 1, padding: '0.25rem', fontSize: '0.75rem', background: '#f3f4f6', border: '1px solid #d1d5db', borderRadius: '4px', cursor: 'pointer' }}\r\n                      >\r\n                        100%\r\n                      </button>\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => setScale(1.5)}\r\n                        style={{ flex: 1, padding: '0.25rem', fontSize: '0.75rem', background: '#f3f4f6', border: '1px solid #d1d5db', borderRadius: '4px', cursor: 'pointer' }}\r\n                      >\r\n                        150%\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              {/* Filter Section */}\r\n              <div style={{ marginBottom: '1.5rem' }}>\r\n                <h4 style={{ marginBottom: '1rem', color: '#374151' }}>Choose Enhancement:</h4>\r\n                <div style={{ \r\n                  display: 'grid', \r\n                  gridTemplateColumns: 'repeat(auto-fit, minmax(120px, 1fr))', \r\n                  gap: '0.5rem' \r\n                }}>\r\n                  {[\r\n                    { key: 'original', label: 'ðŸ“¸ Original', style: { background: selectedFilter === 'original' ? '#059669' : 'linear-gradient(135deg, #059669, #10b981)', color: 'white' }},\r\n                    { key: 'auto', label: 'ðŸš€ Auto', style: { background: selectedFilter === 'auto' ? '#3730a3' : 'linear-gradient(135deg, #4f46e5, #7c3aed)', color: 'white' }},\r\n                    { key: 'blackwhite', label: 'âš« B&W', style: { background: selectedFilter === 'blackwhite' ? '#0f172a' : '#1f2937', color: 'white' }},\r\n                    { key: 'grayscale', label: 'ðŸŒ«ï¸ Gray', style: { background: selectedFilter === 'grayscale' ? '#4b5563' : '#6b7280', color: 'white' }},\r\n                    { key: 'whitening', label: 'â˜€ï¸ White', style: { background: selectedFilter === 'whitening' ? '#e5e7eb' : '#f3f4f6', color: selectedFilter === 'whitening' ? '#1f2937' : '#374151', border: '2px solid #d1d5db' }},\r\n                    { key: 'sharpen', label: 'ðŸ” Sharp', style: { background: selectedFilter === 'sharpen' ? '#047857' : '#10b981', color: 'white' }},\r\n                    { key: 'vintage', label: 'ðŸ“œ Vintage', style: { background: selectedFilter === 'vintage' ? '#b45309' : '#d97706', color: 'white' }}\r\n                  ].map(filter => (\r\n                    <button\r\n                      key={filter.key}\r\n                      type=\"button\"\r\n                      className=\"btn\"\r\n                      onClick={() => setSelectedFilter(filter.key)}\r\n                      style={{\r\n                        ...filter.style,\r\n                        border: selectedFilter === filter.key ? '3px solid #1d4ed8' : filter.style.border || 'none',\r\n                        padding: '0.5rem 0.25rem',\r\n                        fontSize: '0.75rem',\r\n                        fontWeight: '600',\r\n                        cursor: 'pointer',\r\n                        borderRadius: '6px',\r\n                        transition: 'all 0.2s'\r\n                      }}\r\n                    >\r\n                      {filter.label}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n              \r\n              {/* Action Buttons */}\r\n              <div style={{ display: 'flex', gap: '1rem', justifyContent: 'center' }}>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn\"\r\n                  onClick={applyChangesAndSave}\r\n                  style={{\r\n                    background: '#4f46e5',\r\n                    color: 'white',\r\n                    padding: '0.75rem 2rem',\r\n                    fontSize: '1rem',\r\n                    fontWeight: '600',\r\n                    border: 'none',\r\n                    borderRadius: '8px',\r\n                    cursor: 'pointer'\r\n                  }}\r\n                >\r\n                  âœ… Apply Changes\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-secondary\"\r\n                  onClick={() => setShowImageEditor(false)}\r\n                  style={{ \r\n                    padding: '0.75rem 2rem',\r\n                    fontSize: '1rem',\r\n                    fontWeight: '600'\r\n                  }}\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      \r\n      <canvas ref={canvasRef} style={{ display: 'none' }} />\r\n      <canvas ref={previewCanvasRef} style={{ display: 'none' }} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UploadForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}